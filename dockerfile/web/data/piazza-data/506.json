{"result": {"history_size": 3, "folders": ["lab2"], "nr": 506, "data": {"embed_links": []}, "created": "2015-09-25T10:43:11Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"uid": "iezimbvr4Kl", "anon": "no", "when": "2015-09-25T10:43:11Z", "data": "iezismvkyx4g4", "type": "create"}, {"uid": "iezimbvr4Kl", "anon": "no", "when": "2015-09-25T11:05:55Z", "data": "iezjluxvd4d2je", "type": "update"}, {"uid": "iezimbvr4Kl", "anon": "no", "when": "2015-09-25T17:04:14Z", "data": "iezwenkqlsw7n9", "type": "update"}, {"to": "iezismvgghh4g3", "uid": "hdjoucuyb836fq", "anon": "no", "when": "2015-09-28T00:31:57Z", "data": "if37a4v0vxa49", "type": "i_answer"}, {"to": "iezismvgghh4g3", "uid": "iezimbvr4Kl", "anon": "no", "when": "2015-09-28T10:57:31Z", "type": "followup"}, {"anon": "no", "uid": "kg0fnpin1992ro", "data": "kt5vj93qt2s445", "to": "iezismvgghh4g3", "type": "s_answer", "when": "2021-09-04T14:21:06Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "iezimbvr4Kl", "subject": "自映射机制的疑问", "created": "2015-09-25T17:04:14Z", "content": "<p></p>\n<div>在UCORE操作系统实验lab2中的pmm.c文件中有个方法&#xff0c;如下所示&#xff1a;</div>\n<div>\n<div><tt>void print_pgdir(void) {</tt></div>\n<div><tt>    cprintf(&#34;-------------------- BEGIN --------------------\\n&#34;);</tt></div>\n<div><tt>    size_t left, right = 0, perm;</tt></div>\n<div><tt>    while ((perm = get_pgtable_items(0, NPDEENTRY, right, vpd, &amp;left, &amp;right)) != 0) {</tt></div>\n<div><tt>        cprintf(&#34;PDE(%03x) %08x-%08x %08x %s\\n&#34;, right - left,</tt></div>\n<div><tt>                left * PTSIZE, right * PTSIZE, (right - left) * PTSIZE, perm2str(perm));</tt></div>\n<div><tt>        size_t l, r = left * NPTEENTRY;</tt></div>\n<div><tt>        while ((perm = get_pgtable_items(left * NPTEENTRY, right * NPTEENTRY, r, vpt, &amp;l, &amp;r)) != 0) {</tt></div>\n<div><tt>            cprintf(&#34;  |-- PTE(%05x) %08x-%08x %08x %s\\n&#34;, r - l,</tt></div>\n<div><tt>                    l * PGSIZE, r * PGSIZE, (r - l) * PGSIZE, perm2str(perm));</tt></div>\n<div><tt>        }</tt></div>\n<div><tt>    }</tt></div>\n<div><tt>    cprintf(&#34;--------------------- END ---------------------\\n&#34;);</tt></div>\n<div><tt>}</tt></div>\n</div>\n<div></div>\n<div>经过分析print_pgdir方法&#xff0c;我知道当第一次运行get_pgtable_items方法后&#xff0c;left=768&#xff0c;right=992&#xff1b;当第二次运行get_pgtable_items方法时&#xff0c;指针vpt&#xff08;0xFAC00000&#xff09;经过段页机制转换得到的物理地址是多少呢&#xff1f;r = left * NPTEENTRY= 768 *1024&#xff0c;那么这里的768*1024指的是什么呢&#xff1f;我思考好几天一直没有结果&#xff0c;也可能是我对自映射的机制理解有问题&#xff0c;还请老师指点。</div>\n<div></div>\n<div></div>\n<div></div>"}, {"anon": "no", "uid": "iezimbvr4Kl", "subject": "自映射机制的疑问", "created": "2015-09-25T11:05:55Z", "content": "<p></p>\n<div>在UCORE操作系统实验lab2中的pmm.c文件中有个方法&#xff0c;如下所示。</div>\n<div>经过分析print_pgdir方法&#xff0c;我知道当第一次运行get_pgtable_items方法后&#xff0c;left=768&#xff0c;right=992&#xff1b;当第二次运行get_pgtable_items方法时&#xff0c;指针vpt&#xff08;0xFAC00000&#xff09;经过段页机制转换得到的物理地址是0吗&#xff1f;同时r = left * NPTEENTRY= 768 *1024&#xff0c;那么这里的768*1024指的是什么呢&#xff1f;我思考好几天一直没有结果&#xff0c;也可能是我对自映射的机制理解有问题&#xff0c;还请老师指点。</div>\n<div></div>\n<div></div>\n<div>\n<div>void print_pgdir(void) {</div>\n<div>    cprintf(&#34;-------------------- BEGIN --------------------\\n&#34;);</div>\n<div>    size_t left, right = 0, perm;</div>\n<div>    while ((perm = get_pgtable_items(0, NPDEENTRY, right, vpd, &amp;left, &amp;right)) != 0) {</div>\n<div>        cprintf(&#34;PDE(%03x) %08x-%08x %08x %s\\n&#34;, right - left,</div>\n<div>                left * PTSIZE, right * PTSIZE, (right - left) * PTSIZE, perm2str(perm));</div>\n<div>        size_t l, r = left * NPTEENTRY;</div>\n<div>        while ((perm = get_pgtable_items(left * NPTEENTRY, right * NPTEENTRY, r, vpt, &amp;l, &amp;r)) != 0) {</div>\n<div>            cprintf(&#34;  |-- PTE(%05x) %08x-%08x %08x %s\\n&#34;, r - l,</div>\n<div>                    l * PGSIZE, r * PGSIZE, (r - l) * PGSIZE, perm2str(perm));</div>\n<div>        }</div>\n<div>    }</div>\n<div>    cprintf(&#34;--------------------- END ---------------------\\n&#34;);</div>\n<div>}</div>\n</div>"}, {"anon": "no", "uid": "iezimbvr4Kl", "subject": "自映射机制的疑问", "created": "2015-09-25T10:43:11Z", "content": "<p></p><div>在UCORE操作系统实验lab2中的pmm.c文件中有个方法&#xff0c;如下所示。</div>\n<div>经过分析print_pgdir方法&#xff0c;我知道当第一次运行get_pgtable_items方法后&#xff0c;left=768&#xff0c;right=992&#xff1b;当第二次运行get_pgtable_items方法时&#xff0c;指针vpt&#xff08;0xFAC00000&#xff09;经过段页机制转换得到的物理地址为CR3寄存器中存储的物理地址&#xff0c;同时r = left * NPTEENTRY= 768 *1024&#xff0c;那么这里的768*1024指的是什么呢&#xff1f;我思考好几天一直没有结果&#xff0c;也可能是我对自映射的机制理解有问题&#xff0c;还请老师指点。</div>\n<div></div>\n<div></div>\n<div>\n<div>void print_pgdir(void) {</div>\n<div>    cprintf(&#34;-------------------- BEGIN --------------------\\n&#34;);</div>\n<div>    size_t left, right = 0, perm;</div>\n<div>    while ((perm = get_pgtable_items(0, NPDEENTRY, right, vpd, &amp;left, &amp;right)) != 0) {</div>\n<div>        cprintf(&#34;PDE(%03x) %08x-%08x %08x %s\\n&#34;, right - left,</div>\n<div>                left * PTSIZE, right * PTSIZE, (right - left) * PTSIZE, perm2str(perm));</div>\n<div>        size_t l, r = left * NPTEENTRY;</div>\n<div>        while ((perm = get_pgtable_items(left * NPTEENTRY, right * NPTEENTRY, r, vpt, &amp;l, &amp;r)) != 0) {</div>\n<div>            cprintf(&#34;  |-- PTE(%05x) %08x-%08x %08x %s\\n&#34;, r - l,</div>\n<div>                    l * PGSIZE, r * PGSIZE, (r - l) * PGSIZE, perm2str(perm));</div>\n<div>        }</div>\n<div>    }</div>\n<div>    cprintf(&#34;--------------------- END ---------------------\\n&#34;);</div>\n<div>}</div>\n</div>"}], "type": "question", "tags": ["lab2", "student"], "tag_good": [], "unique_views": 141, "children": [{"history_size": 1, "folders": [], "data": {"embed_links": []}, "created": "2015-09-28T00:31:57Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "szqxzh", "endorser": {}, "admin": false, "photo": null, "id": "iezimbvr4Kl", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "13515643626@163.com", "endorser": {}, "admin": false, "photo": null, "id": "kg0fnpin1992ro", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "hdjoucuyb836fq", "subject": "", "created": "2015-09-28T00:31:57Z", "content": "<p>如何用二级页表将线性地址转换成物理地址是一个明确的算法。请尝试把ucore所使用的页表的总体结构完整画出来&#xff0c;然后严格按照二级页表将线性地址转换到物理地址的算法过程&#xff0c;推演vpt这个虚拟地址&#xff08;也是线性地址&#xff09;的转换过程。</p>"}], "type": "i_answer", "tag_endorse_arr": ["iezimbvr4Kl", "kg0fnpin1992ro"], "children": [], "id": "if37a4uvcij47", "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p></p>", "created": "2015-09-28T10:57:31Z", "bucket_order": 323, "bucket_name": "Week 9/27 - 10/3", "type": "followup", "tag_good": [], "uid": "iezimbvr4Kl", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "if3tmm3clj05ee", "updated": "2015-09-28T10:57:31Z", "config": {}}, {"history_size": 1, "folders": [], "data": {"embed_links": []}, "created": "2021-09-04T14:21:06Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "13515643626@163.com", "endorser": {}, "admin": false, "photo": null, "id": "kg0fnpin1992ro", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "kg0fnpin1992ro", "subject": "", "created": "2021-09-04T14:21:06Z", "content": "<md>我的理解是boot_pgdir[PDX(VPT)] = PADDR(boot_pgdir) | PTE_P | PTE_W这个会导致少了一层映射，从而第二次遍历的其实是Page Table，而非Page Table对应的PA</md>"}], "type": "s_answer", "tag_endorse_arr": ["kg0fnpin1992ro"], "children": [], "id": "kt5vj93pus4444", "config": {"editor": "md"}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "iezismvgghh4g3", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 4, "num_favorites": 1, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643167899561, "default_anonymity": "no"}, "error": null, "aid": "kyuzqpplgfv3wf"}