{"result": {"folders": ["lab2"], "nr": 1021, "data": {"embed_links": []}, "created": "2017-03-24T13:12:05Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "full", "data": "j0nuj8j8ksu5ko", "type": "create", "when": "2017-03-24T13:12:05Z", "uid_a": "a_0"}, {"anon": "no", "uid": "i5g31e12hcr27s", "data": "j0nwdmn78sw1eo", "to": "j0nuj8j6n9m5kn", "type": "s_answer", "when": "2017-03-24T14:03:43Z"}, {"anon": "full", "to": "j0nuj8j6n9m5kn", "type": "followup", "when": "2017-03-24T14:08:28Z", "uid_a": "a_0"}, {"anon": "no", "uid": "ie7xxz4di3o1ke", "to": "j0nuj8j6n9m5kn", "type": "followup", "when": "2017-04-02T13:42:06Z"}], "bucket_name": "Today", "history": [{"anon": "full", "uid_a": "a_0", "subject": "关于lab2中default_init_memmap函数中SetPageProperty的问题", "created": "2017-03-24T13:12:05Z", "content": "<p>在 memlayout.h中 反映物理页的PG_property位的信息如下&#xff1a;</p>\n<pre>#define PG_property                 1       // if this bit=1: the Page is the head page of a free memory block(contains some continuous_addrress pages), and can be used in alloc_pages; if this bit=0: if the Page is the the head page of a free memory block, then this Page and the memory block is alloced. Or this Page isn&#39;t the head page.</pre>\n<p>也就是说&#xff0c;对于某一空闲的物理块&#xff0c;只有块头页的property置为1&#xff0c;其余则是0.&#xff08;如果我没理解错的话 = =&#xff09;</p>\n<p>而且在答案中的alloc和free函数也确实是这么处理的。</p>\n<p>但为什么在init_memmap中&#xff0c;却要把每一个页面的property置为1 &#xff1f;最初的内存空间不是只有一个空闲块吗&#xff1f;</p>\n<p>而且在default_check中&#xff0c;也确实刚开始检查了每一个页的property位是否置一&#xff0c;笔者认为这貌似有点不太合理。</p>"}], "type": "question", "tags": ["lab2", "student"], "tag_good": [{"role": "student", "name": "Zhang Zichao", "endorser": {}, "admin": false, "photo": null, "id": "j8z934beR2C", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "unique_views": 184, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2017-03-24T14:03:43Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "j0nwdmn34201en", "history": [{"anon": "no", "uid": "i5g31e12hcr27s", "subject": "", "created": "2017-03-24T14:03:43Z", "content": "<p>也许是因为因为lab2ans把所有的空闲页都加到链表里了? 个人感觉只加连续空闲区域的第一页就行了.</p>\n<p>可以参考<a href=\"https://www.piazza.com/class/i5j09fnsl7k5x0?cid=686\" target=\"_blank\">https://piazza.com/class/i5j09fnsl7k5x0?cid=686</a></p>"}], "type": "s_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}, {"anon": "full", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>说实话…如果不把所有空闲页加进去…那不就和默认的样例没区别了吗&#xff1f;</p>", "created": "2017-03-24T14:08:28Z", "bucket_order": 159, "bucket_name": "Week 3/19 - 3/25", "type": "followup", "tag_good": [], "uid_a": "a_0", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "j0nwjqe1n92a4", "updated": "2017-03-24T14:08:28Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>似乎是因为我们编写的代码部分都是在内核中进行的&#xff0c;所以这部分内存虽然也需要“灵活地”进行分配和释放&#xff0c;但是仍然要置reserve位。</p>\n<p>后面也提到过&#xff1a;针对于各个进程的内存管理&#xff0c;ucore暂时没有实现。</p>\n<p></p>", "created": "2017-04-02T13:42:06Z", "bucket_order": 157, "bucket_name": "Week 4/2 - 4/8", "type": "followup", "tag_good": [], "uid": "ie7xxz4di3o1ke", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "j10qkhjmv0d298", "updated": "2017-04-02T13:42:06Z", "config": {}}], "tag_good_arr": ["j8z934beR2C"], "no_answer": 0, "id": "j0nuj8j6n9m5kn", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 6, "num_favorites": 2, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643168989107, "default_anonymity": "no"}, "error": null, "aid": "kyv0e2erl5zv1"}