{"result": {"folders": ["lab2"], "nr": 1120, "data": {"embed_links": []}, "created": "2018-02-07T02:27:53Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "jdb1qcczPBFn", "data": "jdcgfdt054q195", "type": "create", "when": "2018-02-07T02:27:53Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "jdd9h91yqof2pj", "to": "jdcgfdsy451194", "type": "i_answer", "when": "2018-02-07T16:01:09Z"}, {"anon": "no", "uid": "j8ik4z78uIx", "data": "jde6wl49sw02n8", "to": "jdcgfdsy451194", "type": "s_answer", "when": "2018-02-08T07:36:52Z"}, {"anon": "no", "uid": "jd612gjswfy2qt", "to": "jdcgfdsy451194", "type": "followup", "when": "2018-02-09T15:32:47Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "jdb1qcczPBFn", "subject": "Lab2页机制映射过程中&#xff0c;PDE页表项内容左移4位不理解", "created": "2018-02-07T02:27:53Z", "content": "<p><img src=\"/img/1120-fd52f1dd2e28bef5.jpg\" alt=\"\" /></p>\n<p></p>\n<p>请问0x233为什么要左移12位呢&#xff1f;</p>\n<p>课件中老师讲的是因为PDE中由于4K对齐 右移了12位&#xff0c;这里要重新左移回来。。 这个过程不太理解&#xff0c;为什么被右移了12位呀&#xff1f;</p>"}], "type": "question", "tags": ["lab2", "student"], "tag_good": [], "unique_views": 125, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2018-02-07T16:01:09Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "jdd9h91pp1p2pi", "history": [{"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "", "created": "2018-02-07T16:01:09Z", "content": "<p>你可以尝试一下&#xff0c;自己来描述MMU做地址转换的整个过程。看看0x233左移12位后是什么。如果可能&#xff0c;请回复你的完整描述。</p>"}], "type": "i_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}, {"folders": [], "data": {"embed_links": []}, "children": [], "created": "2018-02-08T07:36:52Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "tl", "endorser": {}, "admin": false, "photo": null, "id": "jg98ug1ar8EZ", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "罗龙君", "endorser": {}, "admin": false, "photo": null, "id": "j1ez2n70KtR", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "bucket_name": "Today", "id": "jde6wl48v3a2n7", "history": [{"anon": "no", "uid": "j8ik4z78uIx", "subject": "", "created": "2018-02-08T07:36:52Z", "content": "<p>       4K对齐&#xff0c;意思就是每个页面的大小为4096B&#xff0c;用地址线的低12位&#xff0c;可以满足页内地址偏移的表示。PDE中存页目录项&#xff0c;每条页目录项对应一个PTE的起始地址&#xff0c;PTE中存页表项&#xff0c;每个页表项对应一个页面的起始地址&#xff0c;PDE和PTE也是按照4K页面存储的&#xff0c;即&#xff0c;内存中的数据都是按照4K大小的页面分页存储的&#xff0c;这就是4K对齐&#xff0c;所以无论是PTE还是数据页面&#xff0c;每页的起始地址总是4K的整数倍&#xff0c;这就是说低12位都是0&#xff0c;所以存储的时候右移12位&#xff0c;存储其高20位&#xff0c;取出时左移12位恢复32位地址长度&#xff0c;低12位填充0&#xff0c;不会影响起始地址&#xff0c;再加上页内偏移&#xff0c;就可得到页内地址。</p>\n<p>       置于为什么存储时要右移12位&#xff0c;只存储高20位&#xff0c;这要从X86分段、分页机制的页目录和页表的表项格式说起&#xff0c;其表项格式规定高20位用于定位物理地址空间中一个页面的物理基地址&#xff0c;低12位用于存储页的属性信息。这方面若不理解请参考《Linux内核完全注释》中的内存管理章节&#xff0c;有详细论述。</p>\n<p>&#xff08;个人理解&#xff0c;不足之处敬请批评指正&#xff01;&#xff09;</p>"}], "type": "s_answer", "tag_endorse_arr": ["jg98ug1ar8EZ", "j1ez2n70KtR"], "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>这其实就是MMU在做地址翻译的过程。0x233左移12位代表的是0x304指向的那个PTE在内存中的地址。</p>", "created": "2018-02-09T15:32:47Z", "bucket_order": 112, "bucket_name": "Week 2/4 - 2/10", "type": "followup", "tag_good": [], "uid": "jd612gjswfy2qt", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "jdg3cglcw9z4t0", "updated": "2018-02-09T15:32:47Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "jdcgfdsy451194", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 4, "num_favorites": 3, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169158505, "default_anonymity": "no"}, "error": null, "aid": "kyv0hp49a2521v"}