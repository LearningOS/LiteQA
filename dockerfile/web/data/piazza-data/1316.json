{"result": {"history_size": 1, "folders": ["lab1", "lecture1", "课堂问答", "学习方法", "工具使用"], "nr": 1316, "data": {"embed_links": []}, "created": "2019-04-29T05:06:16Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "j7f1tr6wJNH", "data": "jv1wgz8hhql26c", "type": "create", "when": "2019-04-29T05:06:16Z"}, {"anon": "no", "uid": "j7f1tr6wJNH", "to": "jv1wgz8e1fk26b", "type": "followup", "when": "2019-05-03T20:50:05Z"}, {"anon": "no", "uid": "jxqz7iku8k32lx", "data": "k2epqqtuaxo29f", "to": "jv1wgz8e1fk26b", "type": "s_answer", "when": "2019-10-31T12:56:51Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "j7f1tr6wJNH", "subject": "0x7c00 开始主引导扇区&#xff08;bootasm.S&#xff09;  之前、之后的代码", "created": "2019-04-29T05:06:16Z", "content": "<p><strong>问题</strong>&#xff1a;  by  ——DeepDarkEcho  </p>\n<div> 请问&#xff0c;课程里说操作系统从0x7C00开始执行&#xff0c;课件里也讲过启动时候CS:IP = 0xf000:fff0<br /><br />也就是说从0x000FFFF0开始执行&#xff0c;有点儿懵逼。。。<br /><br />看代码&#xff0c;貌似7c00以前全是空白&#xff0c;因为在makefile里面ld指定了起点是7c00<br /><br />问题有二<br />1&#xff0c;启动的时候是从000ffff0开始执行对吧&#xff0c;这里的代码在哪儿定义的&#xff1f;<br />2&#xff0c;7c00之前的代码是否有什么意义&#xff1f; </div>\n<div></div>\n<div><strong>我的回答&#xff1a;</strong></div>\n<div>这是一个小知识点。 <br /><strong>操作系统</strong>启动引导扇区第一条指令存放位置在7c00&#xff0c;但是cpu加电第一条指令不是这个位置<br />①<strong>cpu</strong>加电后会默认执行主板bios程序进行“硬件自检” <br />②完成自检后跳转到<strong>7c00</strong><br />③开始执行<strong>操作系统主引导扇区</strong>内容(进行操作系统启动前各种准备工作)<br />④准备完毕&#xff0c;<strong>长跳转</strong>至操作系统<strong>内核程序</strong></div>\n<div>\n<div></div>\n<div> <strong>所以我们在gdbinit设置里会把断点设置在7c00 </strong> 也就是②主引导扇区第一条指令。对应ucore的bootasm.s文件&#xff0c;然后开始分析代码。<br /><br /><strong>如果不设置这个断点</strong>&#xff0c;则从①CPU加电第一条指令执行&#xff0c;这部分是硬件自检的各种<strong>bios程序</strong>。比较复杂而且也没有分析的必要。。。</div>\n<div>是各种实模式16位的bios的汇编程序和操作系统无关。   这部分代码有一个存放位置。  我猜应该是在7c00之前</div>\n<div></div>\n<div>\n<div> 这大概就是你看到启动一瞬间的奇怪程序吧。  <strong>bios自检</strong></div>\n<div></div>\n<div>\n<div><strong> 个人理解&#xff0c; 欢迎各位纠错  或者补充。谢谢啦&#xff01;</strong></div>\n<div></div>\n<div></div>\n<div><img src=\"/img/1316-a335e0d764a051bb.jpg\" alt=\"\" /></div>\n</div>\n</div>\n</div>"}], "type": "question", "tags": ["lab1", "lecture1", "student", "学习方法", "工具使用", "课堂问答"], "tag_good": [{"role": "student", "name": "289212182@qq.com", "endorser": {}, "admin": false, "photo": "1551463481_35.png", "id": "j7f1tr6wJNH", "photo_url": "https://cdn-uploads.piazza.com/photos/j7f1tr6wJNH/1551463481_35.png", "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "张小天", "endorser": {}, "admin": false, "photo": null, "id": "jsfj6oqn5sv8", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "zxcv", "endorser": {}, "admin": false, "photo": null, "id": "kujb3uv3knv5gs", "photo_url": null, "us": false, "facebook_id": null}], "unique_views": 208, "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "001", "created": "2019-05-03T20:50:05Z", "bucket_order": 134, "bucket_name": "Week 4/28 - 5/4", "type": "followup", "tag_good": [], "uid": "j7f1tr6wJNH", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "jv8jy5htxic490", "updated": "2019-05-03T20:50:05Z", "config": {}}, {"history_size": 1, "folders": [], "data": {"embed_links": []}, "created": "2019-10-31T12:56:51Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "Jesauca@163.com", "endorser": {}, "admin": false, "photo": null, "id": "kg6kg6bsabl5hv", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "jxqz7iku8k32lx", "subject": "", "created": "2019-10-31T12:56:51Z", "content": "<p>我也不知道我说的对不对。我以为&#xff1a;</p>\n<p>1    开机加电  cs &#xff1a;IP初始&#xff1a;FFFF0处&#xff0c;这个地址是对CPU来说是逻辑上的线性地址&#xff0c;&#xff08;非物理地址&#xff09;&#xff1b;这部分是固话在主板上的only read 内存&#xff1b;</p>\n<p>       因为开始的时候 并没有任何操作可以 向内存写入&#xff0c;只能执行BIOS内的代码&#xff08;ram内是非易失性储存&#xff09;</p>\n<p>2    长跳转执行读取硬盘第一扇区0——511内容拷贝至内存0x7c00&#xff0c;ljump 0x7c00执行内存中代码</p>\n<p>3    加载BootLoader或其他operation。。。。。</p>\n<p></p>\n<p>个人理解不知道对不对哈&#xff0c;各位多多指教。</p>"}], "type": "s_answer", "tag_endorse_arr": ["kg6kg6bsabl5hv"], "children": [], "id": "k2epqqtqxy429e", "config": {}, "is_tag_endorse": false}], "tag_good_arr": ["j7f1tr6wJNH", "jsfj6oqn5sv8", "kujb3uv3knv5gs"], "no_answer": 0, "id": "jv1wgz8e1fk26b", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 2, "num_favorites": 3, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169732904, "default_anonymity": "no"}, "error": null, "aid": "kyv0u0bstnt65o"}