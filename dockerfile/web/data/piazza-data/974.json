{"result": {"folders": ["lecture1"], "nr": 974, "data": {"embed_links": []}, "created": "2017-02-21T14:13:45Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "ie7xy4dynst1pm", "data": "izfm34bcpjz5i8", "type": "create", "when": "2017-02-21T14:13:45Z"}, {"anon": "no", "uid": "ie7xy0ss8np1ly", "to": "izfm34b9jkr5i7", "type": "followup", "when": "2017-02-22T04:25:32Z"}, {"anon": "no", "uid": "ie7xy6isp8v1rk", "to": "izfm34b9jkr5i7", "type": "feedback", "when": "2017-02-22T13:51:55Z"}, {"anon": "no", "uid": "ie7xy8gtpwk1t5", "to": "izfm34b9jkr5i7", "type": "followup", "when": "2017-02-23T12:24:19Z"}, {"anon": "no", "uid": "izb0cbe1zb56w5", "to": "izfm34b9jkr5i7", "type": "followup", "when": "2017-02-24T06:24:06Z"}, {"anon": "no", "uid": "ie7xy5sipx51qz", "to": "izfm34b9jkr5i7", "type": "feedback", "when": "2017-02-24T07:14:29Z"}, {"anon": "no", "uid": "izb0cbe1zb56w5", "to": "izfm34b9jkr5i7", "type": "feedback", "when": "2017-02-24T07:29:28Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "ie7xy4dynst1pm", "subject": "分享一点Mac上配置实验环境时踩的坑", "created": "2017-02-21T14:13:45Z", "content": "<p>因为虚拟机跑起来有点慢&#xff0c;所以在Mac OS Sierra中配了实验环境&#xff0c;踩了一些坑。</p>\n<p></p>\n<p><a href=\"https://github.com/chyyuu/ucore_os_lab\">https://github.com/chyyuu/ucore_os_lab</a>的Readme.md是一份很好的资料&#xff0c;但是在安装gcc, gdb的时候&#xff0c;guide给的是</p>\n<ul><li><code>brew tap altkatz/homebrew-gcc_cross_compilers</code></li><li><code>brew install i386-elf-gcc</code> # may take an hour</li><li><code>brew install i386-elf-gdb</code></li></ul>\n<p>用的时候不知道为什么brew安装gcc的时候总提示SHA256不匹配&#xff0c;改用macports才安好gcc&#xff1a;</p>\n<ul><li><code>sudo port install i386-elf-gcc i386-elf-binutils</code></li></ul>\n<p>由于gdb依赖gcc&#xff0c;gcc不是brew装的&#xff0c;gdb就只好源码编译安装了&#xff0c;用最新版直接安装即可。./configure要把前缀--target设成i386-elf。</p>\n<p></p>\n<p>qemu可以直接brew install qemu装。</p>\n<p></p>\n<p>集成开发环境我装的是Eclipse CDT&#xff0c;是按照MOOC视频装的&#xff0c;其中有一个步骤是要装Zylin Embedded插件。这个插件已经很久没更新了&#xff0c;因此在mac上貌似不能兼容Eclipse最新版&#xff0c;所以要记得安装4.4(Eclipse LUNA)及以下版本的Eclipse CDT。</p>\n<p></p>\n<p>IDE中将工程导入后要在properties的C/C&#43;&#43; Build中把Build Directory改成项目根目录&#xff0c;再把Generate Makefiles automatically去掉&#xff0c;就可以直接使用源码中的Makefile了。</p>\n<p></p>\n<p>配置与QEMU的gdbserver连接时&#xff0c;要创建一个External Tools Configuration用于在IDE里启动模拟器&#xff0c;配置时&#xff0c;Location输入make的路径&#xff08;我这里是/usr/bin/make&#xff09;&#xff0c;Argument输qemu&#xff0c;就相当于替代了make qemu的执行。还要创建一个Debug Configuration&#xff0c;建一个Zylin Embedded debug&#xff0c;在里面GDB debugger填安装的gdb&#xff0c;Command填加载符号与连接gdbserver的命令即可。</p>\n<p></p>\n<p>Makefile需要稍微改一下&#xff1a;把qemu那一项的调用要加上-S和-s&#xff0c;才能载入符号链接并在启动后停在第一条语句。</p>"}], "type": "note", "tags": ["lecture1", "student"], "tag_good": [{"role": "student", "name": "Jason Lau", "endorser": {}, "admin": false, "photo": null, "id": "ie7xy0ss8np1ly", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "Minny Lau", "endorser": {}, "admin": false, "photo": null, "id": "ie7xy6isp8v1rk", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "xinhanggao", "endorser": {}, "admin": false, "photo": null, "id": "ie7xy6ut1rx1rv", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "instructor", "name": "Yong XIANG", "endorser": {}, "admin": true, "photo": null, "id": "hdjonbiyfs62ie", "photo_url": null, "us": false, "class_sections": ["课程设计_i5j09fnsl7k5x0", "清华学生_i5j09fnsl7k5x0", "所有老师和助教_i5j09fnsl7k5x0", "os2018spring_i5j09fnsl7k5x0"], "facebook_id": null}], "unique_views": 326, "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>brew edit i386-elf-gcc 修改哈希值让它 match 上就可以了。</p>", "created": "2017-02-22T04:25:32Z", "bucket_order": 161, "bucket_name": "Week 2/19 - 2/25", "type": "followup", "tag_good": [], "uid": "ie7xy0ss8np1ly", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>亲测可以&#xff0c;谢谢~</p>", "created": "2017-02-22T13:51:55Z", "bucket_order": 161, "bucket_name": "Week 2/19 - 2/25", "type": "feedback", "tag_good": [], "uid": "ie7xy6isp8v1rk", "children": [], "tag_good_arr": [], "id": "izh0qwml89b6hp", "updated": "2017-02-22T13:51:55Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "izggij8jsne46o", "updated": "2017-02-22T04:25:32Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>感谢&#64;Li Lin-yi&#xff0c;他让我补充一下&#xff1a;</p>\n<p>导入工程时 ToolChain 选 Cross GCC, compiler prefix 填 i386-elf-, compiler path 填 i386-elf-gcc 的路径</p>\n<p>Properties -&gt; C/C&#43;&#43; Build: Behavior, 把 Build(Incremental build) 对应的 all 删掉</p>\n<p>Properties -&gt; C/C&#43;&#43; Build -&gt; Environment 及 External Tools Configurations -&gt; Environment 中 PATH 是否有对应gcc的路径</p>", "created": "2017-02-23T12:24:19Z", "bucket_order": 161, "bucket_name": "Week 2/19 - 2/25", "type": "followup", "tag_good": [], "uid": "ie7xy8gtpwk1t5", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "izid23u777v5i4", "updated": "2017-02-23T12:24:19Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>本人 fork 了一份 Formula, 项目地址为<a href=\"https://github.com/jeasinema/homebrew-gcc_cross_compilers,\">https://github.com/jeasinema/homebrew-gcc_cross_compilers</a> , 包含以下新特性&#xff1a;</p>\n<ul><li>编译器使用最新的gcc v6.3.0版本源码</li><li>编译 gdb 时使用 Homebrew 版本的 python\n<ul><li>这一步是由于 mac 自带的 python 版本过旧&#xff0c;且部分模块停留在旧版本&#xff0c;导致一系列 gdb 扩展无法正常工作</li></ul>\n</li></ul>\n<p>欢迎各位拍砖</p>\n<p></p>", "created": "2017-02-24T06:24:06Z", "bucket_order": 161, "bucket_name": "Week 2/19 - 2/25", "type": "followup", "tag_good": [], "uid": "izb0cbe1zb56w5", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>值得新开一帖&#xff0c;我一开始都没发现你</p>", "created": "2017-02-24T07:14:29Z", "bucket_order": 161, "bucket_name": "Week 2/19 - 2/25", "type": "feedback", "tag_good": [], "uid": "ie7xy5sipx51qz", "children": [], "tag_good_arr": [], "id": "izjhfi9jsw9eq", "updated": "2017-02-24T07:14:29Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>手动害怕</p>", "created": "2017-02-24T07:29:28Z", "bucket_order": 161, "bucket_name": "Week 2/19 - 2/25", "type": "feedback", "tag_good": [], "uid": "izb0cbe1zb56w5", "children": [], "tag_good_arr": [], "id": "izjhyrhwath22s", "updated": "2017-02-24T07:29:28Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "izjfmpk2hr34c0", "updated": "2017-02-24T06:24:06Z", "config": {}}], "tag_good_arr": ["ie7xy0ss8np1ly", "ie7xy6isp8v1rk", "ie7xy6ut1rx1rv", "hdjonbiyfs62ie"], "id": "izfm34b9jkr5i7", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 10, "num_favorites": 3, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643168912243, "default_anonymity": "no"}, "error": null, "aid": "kyv0cf3np1k1sa"}