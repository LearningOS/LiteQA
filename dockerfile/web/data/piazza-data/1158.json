{"result": {"folders": ["lab1"], "nr": 1158, "data": {"embed_links": []}, "created": "2018-03-15T12:24:29Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "j9p3tttiDdhN", "data": "jeshla0gh15v6", "type": "create", "when": "2018-03-15T12:24:29Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "data": "jet5pnfjeuk23", "to": "jeshla0cw8a5v5", "type": "s_answer", "when": "2018-03-15T23:39:44Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "data": "jeyy2upnugq2le", "type": "s_answer_update", "when": "2018-03-20T00:52:40Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "data": "jeyy40inp6k3h3", "type": "s_answer_update", "when": "2018-03-20T00:53:34Z"}, {"anon": "no", "uid": "j9p3tttiDdhN", "data": "jff1ps6xs247jh", "type": "update", "when": "2018-03-31T07:18:48Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "j9p3tttiDdhN", "subject": "关于ucore中断机制的一些疑问", "created": "2018-03-31T07:18:48Z", "content": "<p>在看了实验1的实验指导书后&#xff0c;我对ucore的中断机制中上下文切换部分仍然有一些疑问。</p>\n<p>在ucore代码中&#xff0c;能够观察到的被压进栈的内容有&#xff1a;errno&#xff0c; 中断号&#xff0c;四个段寄存器&#xff0c;其他通用寄存器&#xff0c;%esp(作为参数&#xff0c;使得trap函数可以访问上面被压入栈的中断号等内容&#xff09;。</p>\n<p>但是&#xff0c;在实验指导书中&#xff0c;不止一次提到了被压入栈的CS,%eip&#xff0c;%eflags等寄存器&#xff0c;并说iret指令会恢复这些寄存器。</p>\n<p>是不是这些寄存器是由硬件自动压栈的&#xff1f;</p>\n<p>我的理解&#xff1a;硬件先判断特权级是否提升&#xff0c;如果有&#xff0c;就把用户栈的ss和esp和eflags压入内核栈&#xff1b;接着硬件依次压入cs&#xff0c;eip&#xff0c;然后才是ucore代码中压入的部分。而由硬件压入的内容&#xff0c;会由iret指令恢复。</p>\n<p>请问我的理解是否正确&#xff1f;</p>\n<p></p>\n<p>望解答。</p>"}, {"anon": "no", "uid": "j9p3tttiDdhN", "subject": "关于ucore中断机制的一些疑问", "created": "2018-03-15T12:24:29Z", "content": "<p>在看了实验1的实验指导书后&#xff0c;我对ucore的中断机制中上下文切换部分仍然有一些疑问。</p>\n<p>在ucore代码中&#xff0c;能够观察到的被压进栈的内容有&#xff1a;errno&#xff0c; 中断号&#xff0c;四个段寄存器&#xff0c;其他通用寄存器&#xff0c;%esp(作为参数&#xff0c;使得trap函数可以访问上面被压入栈的中断号等内容&#xff09;。</p>\n<p>但是&#xff0c;在实验指导书中&#xff0c;不止一次提到了被压入栈的CS,%eip&#xff0c;%eflags等寄存器&#xff0c;并说iret指令会恢复这些寄存器。</p>\n<p>是不是这些寄存器是由硬件自动压栈的&#xff1f;</p>\n<p>我的理解&#xff1a;硬件先判断特权级是否提升&#xff0c;如果有&#xff0c;就把用户栈的ss和esp压入内核栈&#xff1b;接着硬件依次压入eflags&#xff0c;cs&#xff0c;eip&#xff0c;然后才是ucore代码中压入的部分。而由硬件压入的内容&#xff0c;会由iret指令恢复。</p>\n<p>请问我的理解是否正确&#xff1f;</p>\n<p></p>\n<p>望解答。</p>"}], "type": "question", "tags": ["lab1", "student"], "tag_good": [], "unique_views": 140, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2018-03-15T23:39:44Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "jet5pnfehye22", "history": [{"anon": "no", "uid": "isu0wqaoff5125", "subject": "", "created": "2018-03-20T00:53:34Z", "content": "<p>是。</p>\n<p></p>\n<p>但是错误码在某些异常是硬件压入的&#xff0c;执行iret之前需要软件弹出。</p>"}, {"anon": "no", "uid": "isu0wqaoff5125", "subject": "", "created": "2018-03-20T00:52:40Z", "content": "<p>是。</p>\n<p></p>\n<p>但是错误码是硬件压入的&#xff0c;执行iret之前需要软件弹出。</p>"}, {"anon": "no", "uid": "isu0wqaoff5125", "subject": "", "created": "2018-03-15T23:39:44Z", "content": "<p>是。</p>"}], "type": "s_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "jeshla0cw8a5v5", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 2, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169267603, "default_anonymity": "no"}, "error": null, "aid": "kyv0k1ar1mk3yu"}