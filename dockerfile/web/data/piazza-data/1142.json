{"result": {"folders": ["lecture3"], "nr": 1142, "data": {"embed_links": []}, "created": "2018-03-06T01:36:39Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "isvxeq6bspf1vn", "data": "jeezhhixblp1z2", "type": "create", "when": "2018-03-06T01:36:39Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "to": "jeezhhivg1p1z1", "type": "followup", "when": "2018-03-06T02:45:05Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "data": "jef1z6nm8qi1pv", "type": "update", "when": "2018-03-06T02:46:24Z"}, {"anon": "no", "uid": "im0vq5pac4t1xa", "data": "jef7uoofrk27li", "to": "jeezhhivg1p1z1", "type": "s_answer", "when": "2018-03-06T05:30:52Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "isu0wqaoff5125", "subject": "2018年3月6日操作系统课程关于系统调用和函数调用的讨论", "created": "2018-03-06T02:46:24Z", "content": "<p>汇编指令的区别&#xff1a;</p>\n<p>系统调用&#xff1a;使用INT和IRET指令</p>\n<p>函数调用&#xff1a;使用CALL和RET指令</p>\n<p></p>\n<p>安全性的区别&#xff1a;<br />系统调用有堆栈和特权级的转换过程&#xff0c;函数调用没有这样的过程&#xff0c;系统调用相对更为安全</p>\n<p></p>\n<p>性能的区别&#xff1a;</p>\n<p>时间角度&#xff1a;</p>\n<p>系统调用比函数调用要做更多和特权级切换的工作&#xff0c;所以需要更多的时间开销。系统调用需要的额外开销有&#xff1a;引导机制&#xff0c;建立内核栈&#xff0c;验证参数&#xff0c;更新页面映射权限&#xff0c;设置内核态独立地址空间&#xff08;如TLB等&#xff09;等</p>\n<p>空间角度&#xff1a;</p>\n<p>在一些情况下&#xff0c;如果函数调用采用静态编译&#xff0c;往往需要大量的空间开销&#xff0c;此时系统调用更具有优势</p>\n<p></p>\n<p>系统调用和函数调用之间的界限并不是泾渭分明的&#xff1a;</p>\n<p>在Dos系统中可以直接使用Call指令来调用外部中断</p>\n<p>在X86中也可以直接通过系统调用来控制一个门&#xff0c;但是手册上并不建议这样做</p>\n<p></p>\n<p></p>"}, {"anon": "no", "uid": "isvxeq6bspf1vn", "subject": "2018年3月6日操作系统课程关于系统调用和函数调用的讨论", "created": "2018-03-06T01:36:39Z", "content": "<p>汇编指令的区别&#xff1a;</p>\n<p>系统调用&#xff1a;使用INT和IRET指令</p>\n<p>函数调用&#xff1a;使用CALL和RET指令</p>\n<p></p>\n<p>安全性的区别&#xff1a;<br />系统调用有堆栈和特权级的转换过程&#xff0c;函数调用没有这样的过程&#xff0c;系统调用相对更为安全</p>\n<p></p>\n<p>性能的区别&#xff1a;</p>\n<p>时间角度&#xff1a;</p>\n<p>系统调用比函数调用要做更多和特权级切换的工作&#xff0c;所以需要更多的时间开销。系统调用需要的额外开销有&#xff1a;引导机制&#xff0c;建立内核堆栈&#xff0c;验证参数&#xff0c;更新页面映射权限&#xff0c;设置内核态独立地址空间&#xff08;如TLB等&#xff09;等</p>\n<p>空间角度&#xff1a;</p>\n<p>在一些情况下&#xff0c;如果函数调用采用静态编译&#xff0c;往往需要大量的空间开销&#xff0c;此时系统调用更具有优势</p>\n<p></p>\n<p>系统调用和函数调用之间的界限并不是泾渭分明的&#xff1a;</p>\n<p>在Dos系统中可以直接使用Call指令来调用外部中断</p>\n<p>在X86中也可以直接通过系统调用来控制一个门&#xff0c;但是手册上并不建议这样做</p>\n<p></p>\n<p></p>"}], "type": "question", "tags": ["lecture3", "student"], "tag_good": [], "unique_views": 113, "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>安全性角度&#xff0c;由于系统调用在内核态实现&#xff0c;我觉得不一定比函数调用安全。</p>\n<p></p>\n<p>“更新页面映射权限&#xff0c;设置内核态独立地址空间&#xff08;如TLB等&#xff09;等” 如果没有实现KPTI的话应该没有这个开销。</p>\n<p></p>\n<p>空间角度说的应该是动态链接共享库&#xff0c;和系统调用关系不大。</p>", "created": "2018-03-06T02:45:05Z", "bucket_order": 109, "bucket_name": "Week 3/4 - 3/10", "type": "followup", "tag_good": [], "uid": "isu0wqaoff5125", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "jef1xi4vmpzl7", "updated": "2018-03-06T02:45:05Z", "config": {}}, {"folders": [], "data": {"embed_links": []}, "children": [], "created": "2018-03-06T05:30:52Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "Wende Tan", "endorser": {}, "admin": false, "photo": null, "id": "isu0wqaoff5125", "photo_url": null, "published": true, "us": false, "class_sections": ["os2018spring_i5j09fnsl7k5x0"], "facebook_id": null}], "bucket_name": "Today", "id": "jef7uoocpz47lh", "history": [{"anon": "no", "uid": "im0vq5pac4t1xa", "subject": "", "created": "2018-03-06T05:30:52Z", "content": "<p>安全性应该只是系统调用在ring 0可以访问特权指令&#xff0c;用户态不能吧&#xff0c;没有“谁更安全”这一说</p>"}], "type": "s_answer", "tag_endorse_arr": ["isu0wqaoff5125"], "config": {}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "jeezhhivg1p1z1", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 3, "num_favorites": 1, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169228284, "default_anonymity": "no"}, "error": null, "aid": "kyv0j6ykp67p1"}