{"result": {"folders": ["lecture7"], "nr": 1425, "data": {"embed_links": []}, "created": "2020-03-12T01:45:44Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "k6pstddx7lu1cs", "data": "k7o3bzj6g5f3te", "type": "create", "when": "2020-03-12T01:45:44Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "k6pstddx7lu1cs", "subject": "关于页表自映射地址的一些结论", "created": "2020-03-12T01:45:44Z", "content": "<p>在4K页面大小&#xff0c;考虑x86|risc-v的二级页表。假设页表入口为base&#xff0c;可按照位数分为三个部分[31:22] | [21:12] | [11:0]&#xff08;&#39;|&#39;为连接符&#xff09;&#xff0c;并设其为base0&#xff0c;base1&#xff0c;base2&#xff0c;故有&#xff1a;</p>\n<p></p>\n<p>base = base0 | base1 | base2</p>\n<p></p>\n<p>考虑到页表入口放在某一页的起始位置&#xff0c;得到 base2 = 0</p>\n<p></p>\n<p>在访问线性地址 base 时&#xff0c;找到一级页表的第 base0 项&#xff0c;故访问的一级页表项地址为&#xff1a;</p>\n<p></p>\n<p>base &#43; (base0 | 00) = base0 | base1 | base0 | 00</p>\n<p></p>\n<p>设一级页表项的内容为 dir0&#xff0c;可以将其分为物理页帧和页面属性两个部分&#xff0c;分别位于[31:12]和[11:0]&#xff0c;用 framedata 和 attrs 来表示&#xff0c;即</p>\n<p></p>\n<p>dir0 = framedata | attrs</p>\n<p></p>\n<p>通过 dir0 得到访问的二级页表&#xff0c;通过 base1 得到访问的项&#xff0c;故访问的二级页表项的地址为&#xff1a;</p>\n<p></p>\n<p>framedata | base1 | 00</p>\n<p></p>\n<p>考虑到自映射&#xff0c;这个二级页表和一级页表应当处于同一位置&#xff0c;故有&#xff1a;</p>\n<p></p>\n<p>base0 | base1 | base0 | 00 = framedata | base1 | 00</p>\n<p></p>\n<p>推出&#xff1a;</p>\n<p></p>\n<p>framedata = base0 | base1</p>\n<p>base0 = base1</p>\n<p></p>\n<p>不妨设 base0 为 A&#xff0c;结论有&#xff1a;</p>\n<p></p>\n<p>1. 页表入口满足形式 A | A | 000000000000</p>\n<p>2. 发生自映射的一级页表项地址为 A | A | A | 00</p>\n<p>3. 发生自映射的一节页表项的物理页帧为 A | A</p>\n<p></p>\n<p>整理&#xff1a;2017011348 唐天映、2017011417 曹鼎原</p>"}], "type": "note", "tags": ["lecture7", "student"], "tag_good": [], "unique_views": 84, "children": [], "tag_good_arr": [], "id": "k7o3bzj4g253td", "config": {"seen": {"11": 8, "178": 4, "114": 5, "554": 7, "779": 1, "1120": 2, "507": 6, "1171": 3, "1307": 0}}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 1, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643170017332, "default_anonymity": "no"}, "error": null, "aid": "kyv103sklycsg"}