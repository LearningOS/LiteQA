{"result": {"folders": ["lab1"], "nr": 551, "data": {"embed_links": []}, "created": "2016-01-17T06:21:23Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"uid": "ijf9jcjt7oslj", "anon": "no", "when": "2016-01-17T06:21:23Z", "data": "iji5n29ntkg2l0", "type": "create"}, {"to": "iji5n29kg9j2kz", "uid": "hdjonbiyfs62ie", "anon": "no", "when": "2016-01-17T07:35:39Z", "data": "iji8akh7slo78g", "type": "i_answer"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "ijf9jcjt7oslj", "subject": "lab1关于call&#xff0c;int和键盘中断实现特权切换等问题", "created": "2016-01-17T06:21:23Z", "content": "<p>老师&#xff0c;各位同学&#xff1a;</p>\n<p>      我最近才开始学os&#xff0c;进度跟大家比慢太多&#xff0c;请大家给予些指导。我查了一些资料有些问题还是没想明白。</p>\n<p>      1、call与特权级&#xff1a;假设我们使用用户态的函数&#xff0c;里面使用内联汇编调用call指令&#xff0c;调用一个用户态的函数&#xff0c;这个时候特权级变化是3-&gt;0-&gt;3还是call指令判断出调用函数是用户态&#xff0c;变化是3-&gt;3?</p>\n<p>      2、int指令是不是直接就自动切换到内核态&#xff0c;不管之前是什么</p>\n<p>      3、使用键盘实现特权切换&#xff0c;当从0-3时&#xff0c;机器iret弹出时会弹出ss和esp&#xff0c;然而压栈时没有压入这两个&#xff0c;就理论上应该出错&#xff0c;为什么我实验室没问题呢。</p>\n<p>      4、用户态函数是不是可以内联会变调用所有的机器指令。</p>\n<p>      5、ucore的0和3态虽然优先级不同&#xff0c;但是公用的代码段和数据段&#xff1f;</p>\n<p></p>"}], "type": "question", "tags": ["lab1", "student"], "tag_good": [], "unique_views": 156, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2016-01-17T07:35:39Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "wangpeng", "endorser": {}, "admin": false, "photo": null, "id": "ijf9jcjt7oslj", "photo_url": null, "us": false, "facebook_id": null}], "bucket_name": "Today", "id": "iji8akh4qkx78f", "history": [{"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "", "created": "2016-01-17T07:35:39Z", "content": "<p>我尝试来回答你的问题。</p>\n<p></p>\n<p>1&#xff09;函数调用与特权级修改没有关系。在任何特权级都可以执行相关的函数体代码&#xff0c;在函数调用时&#xff0c;没有特权级的变化。</p>\n<p>2&#xff09;通常来说&#xff0c;你的这个描述是成立的。这里的“通常”是指&#xff0c;操作系统的初始化工作已正常工作。这里&#xff0c;int指令是用户态代码进行内核态的唯一方式。</p>\n<p>3&#xff09;内核态和用户态使用不同的栈。建议仔细看一下CPU对外部中断的响应流程。然后就能明白&#xff0c;在什么情况下会有栈寄存器的压栈操作了。</p>\n<p>4&#xff09;保护模式下&#xff0c;用户态不能执行特权指令。</p>\n<p>5&#xff09;这个问题与1&#xff09;相关&#xff0c;内核态可以访问所有代码和数据&#xff1b;而用户态只能访问用户地址空间的代码和数据。在做实验一时&#xff0c;这个问题还没有讲的。</p>\n<p></p>\n<p>这认为这几个问题问得很好。如果可能&#xff0c;请针对我的回答&#xff0c;补充相应的代码实例。如果有疑问&#xff0c;请继续提问。</p>"}], "type": "i_answer", "tag_endorse_arr": ["ijf9jcjt7oslj"], "config": {}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "iji5n29kg9j2kz", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 6, "num_favorites": 3, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643168022685, "default_anonymity": "no"}, "error": null, "aid": "kyuztcppcfl64j"}