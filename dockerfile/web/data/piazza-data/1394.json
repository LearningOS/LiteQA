{"result": {"folders": ["lecture3"], "nr": 1394, "data": {"embed_links": []}, "created": "2020-02-24T04:44:37Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "k6ohjbqv89e5ji", "data": "k6zz8jipwf228z", "type": "create", "when": "2020-02-24T04:44:37Z"}, {"anon": "no", "uid": "isxzwbs7gb766c", "data": "k70cdlvovis2qu", "to": "k6zz8jinftz28y", "type": "s_answer", "when": "2020-02-24T10:52:28Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "k6ohjbqv89e5ji", "subject": "__allltraps中&#xff0c;软件对sstatus, sepc, steal, stcause的保存与恢复是否仅是为了实现中断嵌套&#xff1f;", "created": "2020-02-24T04:44:37Z", "content": "<p>考虑到硬件已经实现了中断产生后<strong>sstatus, sepc, steal, stcause</strong>的设定&#xff0c;软件&#xff08;<strong>__allltraps</strong>&#xff09;对这几个寄存器的保存与恢复似乎没有必要。也就是说&#xff0c;如果不是为了<strong>中断嵌套</strong>的实现&#xff0c;软件没有必要保存这几个寄存器&#xff1f;</p>\n<p><img src=\"/img/1394-3539bb79a2897359.png\" alt=\"\" /></p>"}], "type": "question", "tags": ["lecture3", "student"], "tag_good": [{"role": "student", "name": "Xuyang Jin", "endorser": {}, "admin": false, "photo": null, "id": "k6ohjbqv89e5ji", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "zyr2016011371", "endorser": {}, "admin": false, "photo": null, "id": "jsjptolvvI0o", "photo_url": null, "published": true, "us": false, "facebook_id": null}, {"role": "student", "name": "吴一凡2016011269", "endorser": {}, "admin": false, "photo": null, "id": "jsjp32n2zAHb", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "unique_views": 88, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2020-02-24T10:52:28Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "k70cdlvkohk2qt", "history": [{"anon": "no", "uid": "isxzwbs7gb766c", "subject": "", "created": "2020-02-24T10:52:28Z", "content": "<md>有必要保存 sstatus 和 sepc。不仅是为了**中断嵌套**&#xff0c;还为了未来可能发生的**进程切换**。\n\n我们需要保存和恢复某个寄存器&#xff0c;是因为它**未来会被使用且当前可能被破坏**。\n对于 scause 和 stval&#xff0c;它们只是用来告知软件中断原因并进入相应的处理分支&#xff0c;所以软件只需读取一次即可丢弃&#xff0c;无需保存和恢复。\n对于 sstatus 和 sepc&#xff0c;在中断返回&#xff08;sret&#xff09;时还需要依赖它们恢复中断前的状态。但是在中断处理过程中&#xff0c;可能发生嵌套中断或进程切换&#xff0c;这些事件都会破坏上述 CSR 寄存器。因此它们需要被保存和恢复。\n</md>"}], "type": "s_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}], "tag_good_arr": ["k6ohjbqv89e5ji", "jsjptolvvI0o", "jsjp32n2zAHb"], "no_answer": 0, "id": "k6zz8jinftz28y", "config": {"seen": {"1049": 4, "158": 7, "1158": 2, "754": 9, "106": 1, "1183": 0, "1308": 3, "273": 5, "1192": 6, "164": 8}}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 2, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169941426, "default_anonymity": "no"}, "error": null, "aid": "kyv0yh82jj91tr"}