{"result": {"folders": ["quiz3", "lecture7", "2016", "特权级"], "nr": 169, "data": {"embed_links": []}, "created": "2015-03-24T12:36:15Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "full", "when": "2015-03-24T12:36:15Z", "data": "i7nadg85n8d4ru", "type": "create", "uid_a": "a_0"}, {"to": "i7nadg82is44rt", "uid": "hdjoucuyb836fq", "anon": "no", "when": "2015-03-24T12:55:03Z", "data": "i7nb1mir8ko7dp", "type": "i_answer"}, {"uid": "hcrrjuyequh4bt", "anon": "no", "when": "2015-03-24T13:18:09Z", "data": "i7nbvblfruy60b", "type": "i_answer_update"}, {"uid": "hdjoucuyb836fq", "anon": "no", "when": "2015-03-24T13:23:52Z", "data": "i7nc2os8z75pf", "type": "i_answer_update"}, {"to": "i7nadg82is44rt", "uid": "hdjonbiyfs62ie", "anon": "no", "when": "2016-03-02T02:08:17Z", "type": "followup"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "j0elhs0n1bj1l9", "type": "update", "when": "2017-03-18T01:49:05Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "j0eqfpfqlbhls", "type": "update", "when": "2017-03-18T04:07:27Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "关于特权级", "created": "2017-03-18T04:07:27Z", "content": "<p>有一个地方不是很明白&#xff0c;在特权级检查里提到了RPL&#xff0c;DPL&#xff0c;和CPL&#xff0c;RPL是段选择子里面存放的特权级&#xff0c;这里的段选择子里放的内容就应该是我们在汇编程序里见到的各种段寄存器里面存放的内容吧&#xff0c;段寄存器的内容不是可以通过MOV指令写入吗&#xff1f;这样是不是特权级可以任意由我们指定了&#xff1f;进行RPL的检查还有什么用呢&#xff1f;</p>"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "关于特权级", "created": "2017-03-18T01:49:05Z", "content": "<p>有一个地方不是很明白&#xff0c;在特权级检查里提到了RPL&#xff0c;DPL&#xff0c;和CPL&#xff0c;RPL是段选择子里面存放的特权级&#xff0c;这里的段选择子里放的内容就应该是我们在汇编程序里见到的各种段寄存器里面存放的内容吧&#xff0c;段寄存器的内容不是可以通过MOV指令写入吗&#xff1f;这样是不是特权级可以任意由我们指定了&#xff1f;进行RPL的检查还有什么用呢&#xff1f;</p>"}, {"anon": "full", "uid_a": "a_0", "subject": "关于特权级", "created": "2015-03-24T12:36:15Z", "content": "<p>有一个地方不是很明白&#xff0c;在特权级检查里提到了RPL&#xff0c;DPL&#xff0c;和CPL&#xff0c;RPL是段选择子里面存放的特权级&#xff0c;这里的段选择子里放的内容就应该是我们在汇编程序里见到的各种段寄存器里面存放的内容吧&#xff0c;段寄存器的内容不是可以通过MOV指令写入吗&#xff1f;这样是不是特权级可以任意由我们指定了&#xff1f;进行RPL的检查还有什么用呢&#xff1f;</p>"}], "type": "question", "tags": ["2016", "lecture7", "quiz3", "student", "特权级"], "tag_good": [{"role": "", "name": "陈振寰", "endorser": {}, "admin": false, "photo": "1425297841_35.png", "id": "i6rtbanwzcm5t6", "photo_url": "https://d1b10bmlvqabco.cloudfront.net/photos/i6rtbanwzcm5t6/1425297841_35.png", "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}], "unique_views": 118, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2015-03-24T12:55:03Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "i7nb1miox297do", "history": [{"anon": "no", "uid": "hdjoucuyb836fq", "subject": "", "created": "2015-03-24T13:23:52Z", "content": "<p>段选择子的内容就是我们在汇编程序里见到的各种段寄存器的内容。但其实你在特权级(即用户特权级&#xff0c;用户态)3的时候是无法改写CS的低两位为0的&#xff08;内核特权级&#xff0c;内核态&#xff09;&#xff0c;但可以让DS的低两位为0。</p>\n<p>但请记住CPU的一个特权级比较 &#34;max(CPL, RPL)   小于等于 DPL&#34;</p>\n<p>可以自己写个小汇编程序试试。</p>\n<p></p>\n<p></p>\n<p>mov指令会对写入的寄存器和需要写入的值进行非常细致的检查。以下节选的是Intel Software Developer&#39;s Manual&#xff08;简称SDM&#xff09;关于mov指令的伪代码描述&#xff1a;</p>\n<pre>IF SS is loaded\n    THEN\n       IF segment selector is NULL\n           THEN #GP(0); FI;\n       IF segment selector index is outside descriptor table limits\n       or segment selector&#39;s RPL ≠ CPL\n       or segment is not a writable data segment\n       or DPL ≠ CPL\n           THEN #GP(selector); FI;\n       IF segment not marked present\n           THEN #SS(selector);\n           ELSE\n               SS ← segment selector;\n               SS ← segment descriptor; FI;\nFI;</pre>\n<p>有关指令操作的所有详细信息&#xff0c;都可在SDM中找到。</p>"}, {"anon": "no", "uid": "hcrrjuyequh4bt", "subject": "", "created": "2015-03-24T13:18:09Z", "content": "<p>段选择子的内容就是我们在汇编程序里见到的各种段寄存器的内容。但其实你在特权级(即用户特权级&#xff0c;用户态)3的时候是无法改写CS的低两位为0的&#xff08;内核特权级&#xff0c;内核态&#xff09;&#xff0c;但可以让DS的低两位为0。</p>\n<p>但请记住CPU的一个特权级比较 &#34;max(CPL, RPL)   小于等于 DPL&#34;</p>\n<p>可以自己写个小汇编程序试试。</p>\n<p></p>\n<p></p>\n<p>mov指令会对写入的寄存器和需要写入的值进行非常细致的检查。以下节选的是Intel Software Developer&#39;s Manual&#xff08;简称SDM&#xff09;关于mov指令的伪代码描述&#xff1a;</p>\n<pre>IF SS is loaded\n    THEN\n       IF segment selector is NULL\n           THEN #GP(0); FI;\n&lt;span style=&#34;text-decoration:underline&#34;&gt;&lt;strong&gt;       IF segment selector index is outside descriptor table limits&lt;/strong&gt;&lt;/span&gt;\n&lt;span style=&#34;text-decoration:underline&#34;&gt;&lt;strong&gt;       or segment selector&#39;s RPL ≠ CPL&lt;/strong&gt;&lt;/span&gt;\n&lt;span style=&#34;text-decoration:underline&#34;&gt;&lt;strong&gt;       or segment is not a writable data segment&lt;/strong&gt;&lt;/span&gt;\n&lt;span style=&#34;text-decoration:underline&#34;&gt;&lt;strong&gt;       or DPL ≠ CPL&lt;/strong&gt;&lt;/span&gt;\n&lt;span style=&#34;text-decoration:underline&#34;&gt;&lt;strong&gt;           THEN #GP(selector); FI;&lt;/strong&gt;&lt;/span&gt;\n       IF segment not marked present\n           THEN #SS(selector);\n           ELSE\n               SS ← segment selector;\n               SS ← segment descriptor; FI;\nFI;</pre>\n<p>有关指令操作的所有详细信息&#xff0c;都可在SDM中找到。</p>"}, {"anon": "no", "uid": "hdjoucuyb836fq", "subject": "", "created": "2015-03-24T12:55:03Z", "content": "<p>mov指令会对写入的寄存器和需要写入的值进行非常细致的检查。以下节选的是Intel Software Developer&#39;s Manual&#xff08;简称SDM&#xff09;关于mov指令的伪代码描述&#xff1a;</p>\n<pre>IF SS is loaded<br />    THEN<br />       IF segment selector is NULL<br />           THEN #GP(0); FI;<br /><span style=\"text-decoration:underline\"><strong>       IF segment selector index is outside descriptor table limits</strong></span><br /><span style=\"text-decoration:underline\"><strong>       or segment selector&#39;s RPL ≠ CPL</strong></span><br /><span style=\"text-decoration:underline\"><strong>       or segment is not a writable data segment</strong></span><br /><span style=\"text-decoration:underline\"><strong>       or DPL ≠ CPL</strong></span><br /><span style=\"text-decoration:underline\"><strong>           THEN #GP(selector); FI;</strong></span><br />       IF segment not marked present<br />           THEN #SS(selector);<br />           ELSE<br />               SS ← segment selector;<br />               SS ← segment descriptor; FI;<br />FI;</pre>\n<p>有关指令操作的所有详细信息&#xff0c;都可在SDM中找到。</p>"}], "type": "i_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>下面链接处的帖子对这个问题有比较经典的描述。</p>\n<p></p>\n<p><a href=\"http://blog.csdn.net/better0332/article/details/3416749\">http://blog.csdn.net/better0332/article/details/3416749</a></p>\n<p></p>\n<p>DPL,RPL,CPL 之间的联系和区别</p>", "created": "2016-03-02T02:08:17Z", "bucket_order": 214, "bucket_name": "Week 2/28 - 3/5", "type": "followup", "tag_good": [], "uid": "hdjonbiyfs62ie", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "ila7ewu1f7z1b7", "updated": "2016-03-02T02:08:17Z", "config": {}}], "tag_good_arr": ["i6rtbanwzcm5t6"], "no_answer": 0, "id": "i7nadg82is44rt", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 8, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643167418817, "default_anonymity": "no"}, "error": null, "aid": "kyuzgerllu65d9"}