{"result": {"folders": ["lab4"], "nr": 1204, "data": {"embed_links": []}, "created": "2018-04-17T06:51:01Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "it1l0irajus5lx", "data": "jg3b7jnof4a796", "type": "create", "when": "2018-04-17T06:51:01Z"}, {"anon": "no", "uid": "isvte2o93ju2dt", "to": "jg3b7jnng8d795", "type": "followup", "when": "2018-04-17T10:48:13Z"}, {"anon": "no", "uid": "it1l0irajus5lx", "to": "jg3b7jnng8d795", "type": "feedback", "when": "2018-04-18T07:35:07Z"}, {"anon": "no", "uid": "isvte2o93ju2dt", "to": "jg3b7jnng8d795", "type": "feedback", "when": "2018-04-19T02:01:39Z"}, {"anon": "no", "uid": "it1l0irajus5lx", "to": "jg3b7jnng8d795", "type": "feedback", "when": "2018-04-20T15:26:39Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "to": "jg3b7jnng8d795", "type": "feedback", "when": "2018-04-23T09:03:54Z"}, {"anon": "no", "uid": "it1l0irajus5lx", "to": "jg3b7jnng8d795", "type": "feedback", "when": "2018-04-24T11:11:03Z"}, {"anon": "no", "uid": "isu0wqaoff5125", "to": "jg3b7jnng8d795", "type": "feedback", "when": "2018-04-27T08:09:22Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "it1l0irajus5lx", "subject": "get_pid()中为什么是遍历proc_list而不是hash_list?", "created": "2018-04-17T06:51:01Z", "content": "<p>没理解错的话这段程序是在维护一个last_id在1&#xff5e;MAX_PID绕圈&#xff0c;每次检查有没有被用过&#xff0c;用过则加1。既然这样为什么不用hash_list呢?</p>"}], "type": "question", "tags": ["lab4", "student", "unanswered"], "tag_good": [], "unique_views": 93, "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>没有问题&#xff0c;只要 get_pid 函数能够给进程分配独有的 pid 即可。</p>\n<p></p>\n<p>不过 hash_list 数组是以 pid_hashfn(pid) 为索引的&#xff0c;实际上还是需要搜索新的 pid&#xff0c;实际上并没有更简单&#xff1f;</p>\n<p></p>\n<p><a href=\"https://stackoverflow.com/questions/3446727/how-does-linux-determine-the-next-pid\" target=\"_blank\">How does Linux determine the next PID?</a></p>", "created": "2018-04-17T10:48:13Z", "bucket_order": 102, "bucket_name": "Week 4/15 - 4/21", "type": "followup", "tag_good": [], "uid": "isvte2o93ju2dt", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>检查某个pid有没有被用过的时候&#xff0c;遍历proc_list最坏是O(n)的时间&#xff0c;用hash_list是几乎O(1)啊</p>", "created": "2018-04-18T07:35:07Z", "bucket_order": 102, "bucket_name": "Week 4/15 - 4/21", "type": "feedback", "tag_good": [], "uid": "it1l0irajus5lx", "children": [], "tag_good_arr": [], "id": "jg4s84926i65dy", "updated": "2018-04-18T07:35:07Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>get_pid 大部分情况下会直接 return &#43;&#43;last_pid;</p>\n<p>hash_list 的索引不是 pid 而是 pid_hashfn(pid)&#xff0c;不能直接获得空闲的 pid&#xff0c;只能获得空闲的 pid_hashfn(pid)。</p>", "created": "2018-04-19T02:01:39Z", "bucket_order": 102, "bucket_name": "Week 4/15 - 4/21", "type": "feedback", "tag_good": [], "uid": "isvte2o93ju2dt", "children": [], "tag_good_arr": [], "id": "jg5vr40ex9m5es", "updated": "2018-04-19T02:01:39Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>你好像理解错我的意思了&#xff1f;我没有说不逐一尝试新pid啊。</p>\n<p>目前get_pid大致是这么工作的&#xff1a;逐一尝试pid (last_pid)&#xff0c;每次遍历proc_list列表检查这个pid有没有被用过&#xff0c;如果用过了&#xff0c;last_pid加一&#xff0c;重新开始检查(利用next_safe做了一些优化&#xff0c;避免不必要的检查)。</p>\n<p>每次检查的时间复杂度O(n)&#xff0c;总时间复杂度理论最坏O(n^2).</p>\n<p>而如果利用hash_list&#xff0c;每次检查last_pid有没有被用过可以视为是O(1)的&#xff0c;总时间复杂度最坏O(n)。</p>\n<p></p>", "created": "2018-04-20T15:26:39Z", "bucket_order": 102, "bucket_name": "Week 4/15 - 4/21", "type": "feedback", "tag_good": [], "uid": "it1l0irajus5lx", "children": [], "tag_good_arr": [], "id": "jg83y79zzcj6vb", "updated": "2018-04-20T15:26:39Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>你的复杂度算错了。</p>", "created": "2018-04-23T09:03:54Z", "bucket_order": 101, "bucket_name": "Week 4/22 - 4/28", "type": "feedback", "tag_good": [], "uid": "isu0wqaoff5125", "children": [], "tag_good_arr": [], "id": "jgc0ljkj5214g3", "updated": "2018-04-23T09:03:54Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>&#64;Wende Tan 请您教</p>", "created": "2018-04-24T11:11:03Z", "bucket_order": 101, "bucket_name": "Week 4/22 - 4/28", "type": "feedback", "tag_good": [], "uid": "it1l0irajus5lx", "children": [], "tag_good_arr": [], "id": "jgdkkwlnhd54wx", "updated": "2018-04-24T11:11:03Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>张助教说得很好了呀。</p>", "created": "2018-04-27T08:09:22Z", "bucket_order": 101, "bucket_name": "Week 4/22 - 4/28", "type": "feedback", "tag_good": [], "uid": "isu0wqaoff5125", "children": [], "tag_good_arr": [], "id": "jghoetqblfd6eq", "updated": "2018-04-27T08:09:22Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "jg3jol3fwx1500", "updated": "2018-04-17T10:48:13Z", "config": {}}], "tag_good_arr": [], "no_answer": 1, "id": "jg3b7jnng8d795", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 3, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169386516, "default_anonymity": "no"}, "error": null, "aid": "kyv0ml1wbl966y"}