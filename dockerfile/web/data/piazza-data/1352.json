{"result": {"history_size": 1, "folders": ["lab2"], "nr": 1352, "data": {"embed_links": []}, "created": "2019-10-18T03:22:20Z", "bucket_order": 3, "no_answer_followup": 2, "change_log": [{"anon": "no", "uid": "k1vina23e9i3tx", "data": "k1vkhume9n85m4", "type": "create", "when": "2019-10-18T03:22:20Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "k2t64h1sgmp769", "to": "k1vkhumcbve5m3", "type": "i_answer", "when": "2019-11-10T15:44:12Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "k2t65obas78ab", "type": "i_answer_update", "when": "2019-11-10T15:45:08Z"}, {"anon": "no", "uid": "k1vina23e9i3tx", "to": "k1vkhumcbve5m3", "type": "followup", "when": "2019-11-12T13:43:05Z"}, {"anon": "no", "uid": "k3dsnn1uqxy75v", "to": "k1vkhumcbve5m3", "type": "followup", "when": "2019-12-29T06:55:23Z"}, {"anon": "no", "uid": "kma28mmq2242ou", "to": "k1vkhumcbve5m3", "type": "feedback", "when": "2021-04-05T06:50:16Z", "cid": "kn48hzens3t7em"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "k1vina23e9i3tx", "subject": "如何理解__boot_pgdir怎么建立的&#xff1f;", "created": "2019-10-18T03:22:20Z", "content": "<p></p><div>.section .data.pgdir</div>\n<div>.align PGSIZE</div>\n<div>__boot_pgdir:</div>\n<div>.globl __boot_pgdir</div>\n<div> # map va 0 ~ 4M to pa 0 ~ 4M (temporary)</div>\n<div>.long REALLOC(__boot_pt1) &#43; (PTE_P | PTE_U | PTE_W)</div>\n<div>.space (KERNBASE &gt;&gt; PGSHIFT &gt;&gt; 10 &lt;&lt; 2) - (. - __boot_pgdir) # pad to PDE of KERNBASE</div>\n<div> # map va KERNBASE &#43; (0 ~ 4M) to pa 0 ~ 4M</div>\n<div>.long REALLOC(__boot_pt1) &#43; (PTE_P | PTE_U | PTE_W)</div>\n<div>.space PGSIZE - (. - __boot_pgdir) # pad to PGSIZE</div>\n<p></p>\n<div>.set i, 0</div>\n<div>__boot_pt1:</div>\n<div>.rept 1024</div>\n<div>.long i * PGSIZE &#43; (PTE_P | PTE_W)</div>\n<div>.set i, i &#43; 1</div>\n<div>.endr</div>\n<p>1.这段代码在内存中怎么映射的&#xff0c;.ucore启动后怎么加载__boot_pt1的<br />2..long和.space代表什么意思&#xff0c;是va的起始地址和pa的其实地址&#xff1f;<br />3..space (KERNBASE &gt;&gt; PGSHIFT &gt;&gt; 10 &lt;&lt; 2) - (. - __boot_pgdir)和.space PGSIZE - (. - __boot_pgdir) 怎么去理解<br />以上问题百思不解&#xff0c;老师同学们麻烦给解答下&#xff0c;谢谢</p>"}], "type": "question", "tags": ["lab2", "student"], "tag_good": [], "unique_views": 95, "children": [{"history_size": 2, "folders": [], "data": {"embed_links": []}, "created": "2019-11-10T15:44:12Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "history": [{"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "", "created": "2019-11-10T15:45:08Z", "content": "<p>你的这几个问题都涉及汇编语言的语法。可以先查一下汇编语言的帮助&#xff0c;然后就都是简单问题了。试试看&#xff1f;</p>\n<p></p>\n<p>下面是两个汇编语言的简洁描述。</p>\n<p></p>\n<p><a href=\"http://flint.cs.yale.edu/cs421/papers/x86-asm/asm.html\">http://flint.cs.yale.edu/cs421/papers/x86-asm/asm.html</a></p>\n<p></p>\n<p><a href=\"http://www.keil.com/support/man/docs/armasm/armasm_dom1361290023271.htm\">http://www.keil.com/support/man/docs/armasm/armasm_dom1361290023271.htm</a></p>\n<p></p>\n<p>如果愿意&#xff0c;把你的分析结果或问题写在后面。</p>"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "", "created": "2019-11-10T15:44:12Z", "content": "<p>你的这几个问题都涉及汇编语言的语法。可以先查一下汇编语言的帮助&#xff0c;然后就都是简单问题了。试试看&#xff1f;</p>\n<p></p>\n<p>下面是两个汇编语言的简洁描述。</p>\n<p></p>\n<p><a href=\"http://flint.cs.yale.edu/cs421/papers/x86-asm/asm.html\">http://flint.cs.yale.edu/cs421/papers/x86-asm/asm.html</a></p>\n<p></p>\n<p><a href=\"http://www.keil.com/support/man/docs/armasm/armasm_dom1361290023271.htm\">http://www.keil.com/support/man/docs/armasm/armasm_dom1361290023271.htm</a></p>\n<p></p>"}], "type": "i_answer", "tag_endorse_arr": [], "children": [], "id": "k2t64h1nb8n768", "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>感谢老师的解答&#xff0c;我的理解整理如下:</p>\n<p>.section .data.pgdir<br />.align PGSIZE<br />__boot_pgdir:<br />.globl __boot_pgdir<br /> 1 .long REALLOC(__boot_pt1) &#43; (PTE_P | PTE_U | PTE_W)<br /> 2 .space (KERNBASE &gt;&gt; PGSHIFT &gt;&gt; 10 &lt;&lt; 2) - (. - __boot_pgdir) # pad to PDE of KERNBASE<br /> 3 .long REALLOC(__boot_pt1) &#43; (PTE_P | PTE_U | PTE_W)<br /> 4 .space PGSIZE - (. - __boot_pgdir) # pad to PGSIZE<br />.set i, 0<br />__boot_pt1:<br />.rept 1024<br />.long i * PGSIZE &#43; (PTE_P | PTE_W)<br />.set i, i &#43; 1<br />.endr</p>\n<p>note:<br />__boot_pgdir代表可以起始地址为__boot_pgdir的长度为1024&#xff0c;大小为4096bit的一维数组&#xff0c;代码1,2,3,4分别为这个数组设置4项内容</p>\n<p>代码1&#xff1a;.long REALLOC(__boot_pt1) &#43; (PTE_P | PTE_U | PTE_W) 表示一个4bit的地址&#xff0c;__boot_pt1的实地址填充数组第0项&#xff0c;大小为4bit<br />代码2&#xff1a;.space (KERNBASE &gt;&gt; PGSHIFT &gt;&gt; 10 &lt;&lt; 2) - (. - __boot_pgdir) 表示申请了一块大小为的((KERNBASE &gt;&gt; PGSHIFT &gt;&gt; 10 &lt;&lt; 2) - (. - __boot_pgdir))地址&#xff0c;内容为填充为0,<br /> 其中(. - __boot_pgdir)表示当前位置减去__boot_pgdir的起始位置&#xff0c;刚好代表数组的第0项&#xff0c;代表数组下标从1-768的项填充为0<br />代码3&#xff1a;.long REALLOC(__boot_pt1) &#43; (PTE_P | PTE_U | PTE_W) 和代码1一样&#xff0c;__boot_pt1的实地址填充数组第768项&#xff0c;大小为4bit<br />代码4&#xff1a;.space PGSIZE - (. - __boot_pgdir) 表示从4096个字节减去已经使用了的空间((.-__boot_pgdir)表示已经使用了数组空间&#xff0c;从0-768项)&#xff0c;数组剩余的256项填充为0</p>", "created": "2019-11-12T13:43:05Z", "bucket_order": 79, "bucket_name": "Week 11/10 - 11/16", "type": "followup", "tag_good": [], "uid": "k1vina23e9i3tx", "children": [], "tag_good_arr": [], "no_answer": 1, "id": "k2vwoft0l9k5td", "updated": "2019-11-12T13:43:05Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>__boot_pgdir是虚拟地址&#xff0c;难道不应该先把虚拟地址转化为物理地址&#xff0c;然后再向该物理地址进行写操作吗&#xff1f;</p>\n<p>请问怎么会直接对虚拟地址进行写操作</p>", "created": "2019-12-29T06:55:23Z", "bucket_order": 73, "bucket_name": "Week 12/22 - 12/28", "type": "followup", "tag_good": [], "uid": "k3dsnn1uqxy75v", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<md>这边没有对pgdir进行写入操作啊~</md>", "created": "2021-04-05T06:50:16Z", "bucket_order": 5, "bucket_name": "This week", "type": "feedback", "tag_good": [], "uid": "kma28mmq2242ou", "children": [], "tag_good_arr": [], "id": "kn48hzens3t7em", "updated": "2021-04-05T06:50:16Z", "config": {"editor": "md"}}], "tag_good_arr": [], "no_answer": 1, "id": "k4qnt5j13ozi", "updated": "2019-12-29T06:55:23Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "k1vkhumcbve5m3", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 4, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169812867, "default_anonymity": "no"}, "error": null, "aid": "kyv0vq0zfeq5s3"}