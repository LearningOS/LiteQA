{"result": {"folders": ["lab1"], "nr": 1361, "data": {"embed_links": []}, "created": "2019-10-29T10:10:20Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "k0bt3s5i5a46n4", "data": "k2bowwexh9c1vf", "type": "create", "when": "2019-10-29T10:10:20Z"}, {"anon": "no", "uid": "jxqz7iku8k32lx", "data": "k2epx7hhr305md", "to": "k2bowweubhy1ve", "type": "s_answer", "when": "2019-10-31T13:01:52Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "k0bt3s5i5a46n4", "subject": "关于中断中的中断门、陷阱门、调用门之间的关系   QQ群问题整理", "created": "2019-10-29T10:10:20Z", "content": "<p>在lab1中的中断的初始化代码中&#xff0c;对于系统调用的初始化&#xff0c;调用的是</p>\n<pre>SETGATE(idt[T_SYSCALL],1,GD_KTEXT,__vectors[T_SYSCALL],DPL_USER);</pre>\n<p>对于x86而言&#xff0c;拥有中断门、陷阱门、调用门和任务门三种。</p>\n<p>为什么在ucore中使用的是陷阱门而不是调用门&#xff0c;陷阱门和调用门有什么区别吗&#xff1f;</p>\n<p></p>\n<p></p>\n<p></p>\n<p>回答:</p>\n<p>libinyl 20:06:19<br />我的理解&#xff0c;仅供参考&#xff1a;</p>\n<p>应该也可以&#xff0c;但触发方式不同&#xff0c;调用门通过 call/jmp来触发&#xff0c;而陷阱门&#xff08;和中断门&#xff09;通过int / syscall 触发&#xff0c;指令和参数的传递有所区别。</p>\n<p>call gate已经或逐渐被弃用&#xff0c;原因大概是 <br />1&#xff09;可以被 trap gate 代替 <br />2&#xff09;除了 x86 架构&#xff0c;其他架构几乎没有实现&#xff0c;也就是可移植性差&#xff1b;<br />3&#xff09;扩展性/性能等其他原因。 <br />具体可以参考这个问题下的解答&#xff1a;https://stackoverflow.com/questions/3425085/the-difference-between-call-gate-interrupt-gate-trap-gate</p>\n<p>陷阱门和中断门可以算是特殊的 call gate&#xff0c;因为它们也用于特权级切换时的访问控制。这里可以参考 intell那本手册的第三卷的5.8.2&#xff1a;Trap and interrupt<br />gates are special kinds of call gates used for calling exception and interrupt handlers. </p>\n<p></p>\n<p>call gate也用于特权级切换吧&#xff1f;只不过濒临淘汰&#xff1f;</p>\n<p>向勇 21:10:03<br />X86的这些关于Gate的区别并不是操作系统的基本概念&#xff0c;只是X86进化历史中的一个过程。操作系统关心的是系统调用的基本机制&#xff0c;X86在发展过程中从性能的角度考虑&#xff0c;提供了多种实现方式。有兴趣的同学可以汇总一下X86上提供的所有实现方式和性能特征。</p>"}], "type": "question", "tags": ["lab1", "student"], "tag_good": [], "unique_views": 141, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2019-10-31T13:01:52Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "k2epx7hd1o95mc", "history": [{"anon": "no", "uid": "jxqz7iku8k32lx", "subject": "", "created": "2019-10-31T13:01:52Z", "content": "<p>我觉得 就是一个名字 而已&#xff0c;系统要是你设计的&#xff0c;你爱怎么叫怎么叫&#xff0c;原理和实现都差不多</p>"}], "type": "s_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "k2bowweubhy1ve", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 4, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169835697, "default_anonymity": "no"}, "error": null, "aid": "kyv0w7n5en37ns"}