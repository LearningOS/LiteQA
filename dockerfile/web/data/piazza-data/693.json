{"result": {"folders": ["lab1"], "nr": 693, "data": {"embed_links": []}, "created": "2016-03-14T05:39:03Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"uid": "i0dvatlio3g3ju", "anon": "no", "when": "2016-03-14T05:39:03Z", "data": "ilrk86otk605bj", "type": "create"}, {"to": "ilrk86oqyyi5bi", "uid": "ierwkwbinsj2t8", "anon": "no", "when": "2016-03-14T06:09:41Z", "data": "ilrlbktlhbi3vh", "type": "s_answer"}, {"to": "ilrk86oqyyi5bi", "uid": "i0dvatlio3g3ju", "anon": "no", "when": "2016-03-14T06:10:52Z", "type": "followup"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "i0dvatlio3g3ju", "subject": "问一个关于lab1的challenge的问题", "created": "2016-03-14T05:39:03Z", "content": "<p>在处理T_SWITCH_TOU的时候&#xff0c;为了能够让init.c中的代码继续执行&#xff0c;我构造了trap frame&#xff0c;使得切换到用户态前后的esp&#xff0c;ebp不变。</p>\n<p>但是这样一来会有一个问题&#xff0c;就是用户态和核心态的栈是一样的。但是不知道为什么代码实际运行过程中貌似并没有出现什么问题。</p>\n<p>如果转换到用户态&#xff0c;此时产生了一个时钟中断&#xff0c;应该会发生一些错误什么的。</p>\n<p></p>\n<p>另外奇怪的是&#xff0c;在T_SWITCH_TOU转换到user mode的过程中&#xff0c;在处理函数中(核心态)esp是7ae8&#xff0c;但是第二次T_SWITCH_TOK转换到kernel mode的过程中&#xff0c;在处理函数中(核心态)esp变成了10fda0。</p>\n<p></p>\n<p>希望老师解答一下这个问题。</p>"}], "type": "question", "tags": ["lab1", "student"], "tag_good": [], "unique_views": 179, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2016-03-14T06:09:41Z", "bucket_order": 3, "tag_endorse": [{"role": "", "name": "Xiaoyang Guo", "endorser": {}, "admin": false, "photo": null, "id": "i0dvatlio3g3ju", "photo_url": null, "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}], "bucket_name": "Today", "id": "ilrlbktio9i3vg", "history": [{"anon": "no", "uid": "ierwkwbinsj2t8", "subject": "", "created": "2016-03-14T06:09:41Z", "content": "<p>跳转到中断处理程序时&#xff0c;如果是往更高的特权级&#xff0c;新的栈位置由TSS给出。</p>"}], "type": "s_answer", "tag_endorse_arr": ["i0dvatlio3g3ju"], "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>我已经明白了&#xff0c;谢谢</p>", "created": "2016-03-14T06:10:52Z", "bucket_order": 211, "bucket_name": "Week 3/13 - 3/19", "type": "followup", "tag_good": [], "uid": "i0dvatlio3g3ju", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "ilrld3jzbox5pq", "updated": "2016-03-14T06:10:52Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "ilrk86oqyyi5bi", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 5, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643168322776, "default_anonymity": "no"}, "error": null, "aid": "kyuzzs9k7l428e"}