{"result": {"folders": ["2020", "q&a", "lab1"], "nr": 1478, "data": {"embed_links": []}, "created": "2020-07-10T23:40:14Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "full", "uid_a": "a_0", "data": "kcgv4o6gizy5q8", "v": "all", "type": "create", "when": "2020-07-10T23:40:14Z"}], "bucket_name": "Today", "history": [{"anon": "full", "uid_a": "a_0", "subject": "$(GCCPREFIX)的实现原理", "created": "2020-07-10T23:40:14Z", "content": "<p>GCCPREFIX似乎能把OBJDUMP、OBJCOPY、CC都翻译为gcc&#43;参数&#xff0c;想知道这个自定义函数的实现原理&#xff0c;不胜感激&#xff01;&#xff01;</p>\n<ol><li> OBJDUMP := $(GCCPREFIX)objdump</li><li>OBJCOPY:=$(GCCPREFIX)objcopy</li><li>CC := $(GCCPREFIX)gcc \n<ol><li>#need llvm/cang-3.5&#43;<br />#USELLVM := 1<br /># try to infer the correct GCCPREFX</li><li>\n<div>ifndef GCCPREFIX</div>\n</li><li>\n<div>GCCPREFIX := $(shell if i386-elf-objdump -i 2&gt;&amp;1 | grep &#39;^elf32-i386$$&#39; &gt;/dev/null 2&gt;&amp;1; \\</div>\n</li><li>\n<div>    then echo &#39;i386-elf-&#39;; \\</div>\n</li><li>\n<div>    elif objdump -i 2&gt;&amp;1 | grep &#39;elf32-i386&#39; &gt;/dev/null 2&gt;&amp;1; \\</div>\n</li><li>\n<div>    then echo &#39;&#39;; \\</div>\n</li><li>\n<div>    else echo &#34;***&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;*** Error: Couldn&#39;t find an i386-elf version of GCC/binutils.&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;*** Is the directory with i386-elf-gcc in your PATH?&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;*** If your i386-elf toolchain is installed with a command&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;*** prefix other than &#39;i386-elf-&#39;, set your GCCPREFIX&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;*** environment variable to that prefix and run &#39;make&#39; again.&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;*** To turn off this error, run &#39;gmake GCCPREFIX= ...&#39;.&#34; 1&gt;&amp;2; \\</div>\n</li><li>\n<div>    echo &#34;***&#34; 1&gt;&amp;2; exit 1; fi)</div>\n</li><li>\n<div>endifCFLAGS</div>\n</li></ol>\n</li></ol>\n<p></p>"}], "type": "question", "tags": ["2020", "lab1", "q&a", "student", "unanswered"], "tag_good": [], "unique_views": 132, "children": [], "tag_good_arr": [], "no_answer": 1, "id": "kcgv4o6dfxz5q7", "config": {"seen": {"387": 2, "684": 1, "400": 3, "642": 0, "686": 4, "1399": 6, "1021": 5, "1230": 8, "1192": 7, "1207": 9}}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 2, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643170141438, "default_anonymity": "no"}, "error": null, "aid": "kyv12rjybsl4vo"}