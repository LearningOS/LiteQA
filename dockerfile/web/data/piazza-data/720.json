{"result": {"history_size": 1, "folders": ["lecture9", "课堂问答"], "nr": 720, "data": {"embed_links": []}, "created": "2016-03-21T02:39:47Z", "bucket_order": 3, "no_answer_followup": 1, "change_log": [{"uid": "i0f24oie8102cr", "anon": "no", "when": "2016-03-21T02:39:47Z", "data": "im1dwltdfgx7es", "type": "create"}, {"to": "im1dwlt98hz7er", "uid": "hcrrjuyequh4bt", "anon": "no", "when": "2016-03-21T06:53:12Z", "data": "im1myi5jqtg3ze", "type": "i_answer"}, {"to": "im1dwlt98hz7er", "uid": "i0f9pvv0uxm6ko", "anon": "no", "when": "2016-03-21T07:21:34Z", "data": "im1nyzn9wj4668", "type": "s_answer"}, {"to": "im1dwlt98hz7er", "uid": "i0f24oie8102cr", "anon": "no", "when": "2016-03-21T10:27:18Z", "type": "followup"}, {"to": "im1dwlt98hz7er", "uid": "i0f9pvv0uxm6ko", "anon": "no", "when": "2016-03-21T11:20:31Z", "type": "feedback"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "i0f24oie8102cr", "subject": "(遗留问题)写回策略的改进时钟算法", "created": "2016-03-21T02:39:47Z", "content": "<p>由于这个问题比较复杂&#xff0c;课上并没有解决&#xff0c;所以我在这里提出。</p>\n<p>改进时钟算法引入了修改位&#xff0c;当修改位从1置为0时&#xff0c;该页表项会被标上*标记。</p>\n<p>老师讲的策略是立即把标上*的页面放入写队列&#xff0c;随后会将其写入硬盘。</p>\n<p>实际上也可以标上*之后不将其放入写队列&#xff0c;而是使用1位来表示其需要写回&#xff0c;等到该页被替换掉的时候再将其放入写队列。</p>\n<p></p>\n<p>比较&#xff1a;和老师讲的策略相比&#xff0c;</p>\n<p>写回的次数会更少&#xff08;更加懒惰&#xff09;&#xff0c;</p>\n<p>写队列的容量会要求更小&#xff0c;每次缺页异常最多只需要将1页送入写队列&#xff08;老师的策略可能一次异常&#xff0c;在极端情况将所有页面放入写队列&#xff09;</p>\n<p>每次是否缺页不会变化&#xff08;因为仅仅只影响是否写回&#xff0c;不影响替换策略&#xff09;</p>\n<p></p>\n<p>我认为这种策略会更好。</p>\n<p></p>\n<p></p>"}], "type": "question", "tags": ["lecture9", "student", "课堂问答"], "tag_good": [{"role": "student", "name": "叶子鹏", "endorser": {}, "admin": false, "photo": null, "id": "i0f24oie8102cr", "photo_url": null, "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}, {"role": "", "name": "suanrong", "endorser": {}, "admin": false, "photo": "1416753618_35.png", "id": "i0c9nvk0xzc2n3", "photo_url": "https://d1b10bmlvqabco.cloudfront.net/photos/i0c9nvk0xzc2n3/1416753618_35.png", "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}], "unique_views": 118, "children": [{"history_size": 1, "folders": [], "data": {"embed_links": []}, "created": "2016-03-21T06:53:12Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "叶子鹏", "endorser": {}, "admin": false, "photo": null, "id": "i0f24oie8102cr", "photo_url": null, "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "hcrrjuyequh4bt", "subject": "", "created": "2016-03-21T06:53:12Z", "content": "<p>good!</p>"}], "type": "i_answer", "tag_endorse_arr": ["i0f24oie8102cr"], "children": [], "id": "im1myi5gt8w3zd", "config": {}, "is_tag_endorse": false}, {"history_size": 1, "folders": [], "data": {"embed_links": []}, "created": "2016-03-21T07:21:34Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "叶子鹏", "endorser": {}, "admin": false, "photo": null, "id": "i0f24oie8102cr", "photo_url": null, "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}, {"role": "", "name": "suanrong", "endorser": {}, "admin": false, "photo": "1416753618_35.png", "id": "i0c9nvk0xzc2n3", "photo_url": "https://d1b10bmlvqabco.cloudfront.net/photos/i0c9nvk0xzc2n3/1416753618_35.png", "published": true, "us": false, "class_sections": ["清华学生_i5j09fnsl7k5x0"], "facebook_id": null}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "i0f9pvv0uxm6ko", "subject": "", "created": "2016-03-21T07:21:34Z", "content": "<p>一直觉得你的算法有一个问题&#xff0c;从上课时开始。不知我有没有想错。</p>\n<p></p>\n<p>就是发生页替换的时候再将其写入写队列。</p>\n<p>但是&#xff0c;大部分时候发生页替换&#xff08;比如没有积极页替换只有消极页替换的系统中&#xff09;是因为没有空间能容下新的需要被加载被换回的页b&#xff0c;</p>\n<p>这时候由于需要在原来页a的位置放入页b&#xff0c;你是没法高枕无忧地仅仅将页a放入写队列的&#xff0c;</p>\n<p>你必须将页a写回&#xff0c;因为一旦换回页b&#xff0c;页a的信息就丢失了。</p>\n<p></p>\n<p>为了不失正确性&#xff0c;你这样做会导致每一次缺页必然发生一次写回和一次写入&#xff0c;相当于每次缺页中断要慢一倍。</p>\n<p>而向老师的方式&#xff0c;可以把写队列中的页在CPU相对空闲的时候&#xff0c;一次性写回。看起来一次性写回很多页是一件很慢的事&#xff0c;</p>\n<p>但是事实上这样可以加快操统的运行。因为这些页是必须写回的&#xff0c;一次性处理很多写回比起分开一次一次的处理&#xff0c;会节省I/O时间。</p>\n<p></p>\n<p>不过你这样推迟的确会造成更少的总写回次数&#xff0c;因为写回时间更晚。写回太早在置换算法中也是不优的&#xff0c;因为你可能刚写回页就被再次修改了。这点上你这个策略是比较优的。但感觉双倍的缺页时间是致命的缺点。</p>"}], "type": "s_answer", "tag_endorse_arr": ["i0f24oie8102cr", "i0c9nvk0xzc2n3"], "children": [], "id": "im1nyzn7yfo667", "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>不是有写缓冲区么&#xff1f;写缓冲区在内存中&#xff0c;所以缺页时间并没有双倍吧。一次对硬盘的读写&#43;一次对内存的读写 约等于 一次对硬盘的读写吧&#xff1f;</p>", "created": "2016-03-21T10:27:18Z", "bucket_order": 248, "bucket_name": "Week 3/20 - 3/26", "type": "followup", "tag_good": [], "uid": "i0f24oie8102cr", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>结合页缓冲算法好像的确比较优</p>", "created": "2016-03-21T11:20:31Z", "bucket_order": 248, "bucket_name": "Week 3/20 - 3/26", "type": "feedback", "tag_good": [], "uid": "i0f9pvv0uxm6ko", "children": [], "tag_good_arr": [], "id": "im1wi9oypm11s", "updated": "2016-03-21T11:20:31Z", "config": {}}], "tag_good_arr": [], "no_answer": 1, "id": "im1ulu4h3j8667", "updated": "2016-03-21T10:27:18Z", "config": {}}], "tag_good_arr": ["i0f24oie8102cr", "i0c9nvk0xzc2n3"], "no_answer": 0, "id": "im1dwlt98hz7er", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 6, "num_favorites": 1, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643168358071, "default_anonymity": "no"}, "error": null, "aid": "kyv00jhz71q5bc"}