{"result": {"folders": ["lab1"], "nr": 12, "data": {"embed_links": []}, "created": "2015-03-02T18:08:44Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"uid": "i6ry1ln7xRU", "anon": "no", "when": "2015-03-02T18:08:44Z", "data": "i6s6ka4ktsg1at", "type": "create"}, {"to": "i6s6ka2zkz71as", "uid": "i6ry30g7v1z", "anon": "no", "when": "2015-03-02T23:56:43Z", "type": "followup"}, {"to": "i6s6ka2zkz71as", "uid": "hdjoucuyb836fq", "anon": "no", "when": "2015-03-03T00:39:02Z", "data": "i6ski7nls776c5", "type": "i_answer"}, {"to": "i6s6ka2zkz71as", "uid": "hdjoucuyb836fq", "anon": "no", "when": "2015-03-03T00:40:46Z", "type": "feedback"}, {"to": "i6s6ka2zkz71as", "uid": "i6ry30g7v1z", "anon": "no", "when": "2015-03-03T01:00:34Z", "type": "feedback"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "i6ry1ln7xRU", "subject": "qemu 和 gdb联合调试 gdb 该调试哪个文件", "created": "2015-03-02T18:08:44Z", "content": "<p> 在qemu 联合gdb的调试中&#xff0c;看了网上资料还有实验手册&#xff0c;在一个终端里我用make qemu这是qemu开启&#xff0c;但是在第二的终端里 我应该gdb &#xff1f;呢 我尝试了 bin目录下的所有文件 但是都是无法 用gdb 。 </p>"}], "type": "question", "tags": ["lab1", "student"], "tag_good": [{"role": "student", "name": "Yinxu Pan", "endorser": {}, "admin": false, "photo": "1426385168_35.png", "id": "i6vgn93glrq25f", "photo_url": "https://d1b10bmlvqabco.cloudfront.net/photos/i6vgn93glrq25f/1426385168_35.png", "published": true, "us": false, "facebook_id": null}], "unique_views": 336, "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>make debug</p>\n<p>然后新建一个终端</p>\n<p>输入gdb</p>\n<p></p>", "created": "2015-03-02T23:56:43Z", "bucket_order": 265, "bucket_name": "Week 3/1 - 3/7", "type": "followup", "tag_good": [], "uid": "i6ry30g7v1z", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>make debug运行2s后会有一个终端蹦出来执行gdb。</p>", "created": "2015-03-03T00:40:46Z", "bucket_order": 265, "bucket_name": "Week 3/1 - 3/7", "type": "feedback", "tag_good": [], "uid": "hdjoucuyb836fq", "children": [], "tag_good_arr": [], "id": "i6skkfzt1g221", "updated": "2015-03-03T00:40:46Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>汗&#xff0c;没测试ucore的&#xff0c;也没看makefile </p>\n<p>是根据以前的经验来说的 记得xv6 JOS应该是手动吧</p>\n<p>看了下ucore的makefile</p>\n<pre>debug: $(UCOREIMG)<br /> $(V)$(QEMU) -S -s -parallel stdio -hda $&lt; -serial null &amp;<br /> $(V)sleep 2<br /> $(V)$(TERMINAL)  -e &#34;cgdb -q -x tools/gdbinit&#34;</pre>\n<p>以后不清楚的不乱回答了&#xff0c;以免误人。</p>", "created": "2015-03-03T01:00:34Z", "bucket_order": 265, "bucket_name": "Week 3/1 - 3/7", "type": "feedback", "tag_good": [], "uid": "i6ry30g7v1z", "children": [], "tag_good_arr": [], "id": "i6sl9w45ncq6vy", "updated": "2015-03-03T01:00:34Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "i6sizs4aoce2fq", "updated": "2015-03-02T23:56:43Z", "config": {}}, {"folders": [], "data": {"embed_links": []}, "children": [], "created": "2015-03-03T00:39:02Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "i6ski7nisrr6c4", "history": [{"anon": "no", "uid": "hdjoucuyb836fq", "subject": "", "created": "2015-03-03T00:39:02Z", "content": "<p>ucore lab的Makefile中有运行调试的目标&#xff0c;可以直接执行make debug-nox&#xff0c;当前窗口会显示qemu的输出&#xff0c;2s后会打开一个新的终端并启动gdb。</p>\n<p></p>\n<p>如果要手工执行gdb&#xff0c;在第二个终端里的命令为gdb -q -x tools/gdbinit&#xff0c;其中-q禁止gdb在启动时输出版权信息&#xff0c;-x tools/gdbinit让gdb在启动后执行tools/gdbinit里的命令&#xff0c;tools/gdbinit中包含加载ELF调试信息、连接remote target等基本操作。</p>\n<p></p>\n<p>用gdb调试时&#xff0c;gdb需要目标程序的调试信息来确定函数地址、局部变量信息等&#xff0c;而调试信息是附在被调试的ELF文件中的。对于lab1中生成的bin目录&#xff1a;</p>\n<pre>[mjj&#64;mjj-server bin]$ for i in *; do file $i; done\nbootblock: x86 boot sector\nkernel: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, not stripped\nsign: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=f1335194f5f92af0f003373df32ff164095596a8, not stripped\nucore.img: x86 boot sector</pre>\n<p>可以看到&#xff0c;bootblock和ucore.img是包含引导扇区的镜像&#xff0c;sign是64位ELF文件&#xff0c;只有kernel是32位的ELF文件&#xff0c;因此需要加载的文件是bin/kernel。bin/kernel的具体生成步骤请参考Makefile。</p>"}], "type": "i_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}], "tag_good_arr": ["i6vgn93glrq25f"], "no_answer": 0, "id": "i6s6ka2zkz71as", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 3, "num_favorites": 1, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643167131091, "default_anonymity": "no"}, "error": null, "aid": "kyuza8r7map2ws"}