{"result": {"folders": ["lab1"], "nr": 182, "data": {"embed_links": []}, "created": "2015-03-26T02:44:03Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"uid": "i6rvi22aN6Q", "anon": "no", "when": "2015-03-26T02:44:03Z", "data": "i7pk3kfl3ne5u2", "type": "create"}, {"to": "i7pk3kfi83f5u1", "uid": "hs2swpdtr91gu", "anon": "no", "when": "2015-03-26T03:45:15Z", "data": "i7pma9xqzapxw", "type": "i_answer"}, {"uid": "hs2swpdtr91gu", "anon": "no", "when": "2015-03-26T03:50:40Z", "data": "i7pmh8faath2ie", "type": "i_answer_update"}, {"to": "i7pk3kfi83f5u1", "uid": "hcrrjuyequh4bt", "anon": "no", "when": "2015-03-26T06:17:17Z", "type": "followup"}, {"to": "i7pk3kfi83f5u1", "uid": "hcrrjuyequh4bt", "anon": "no", "when": "2015-03-27T05:42:30Z", "type": "followup"}, {"to": "i7pk3kfi83f5u1", "uid": "i6rvi22aN6Q", "anon": "no", "when": "2015-03-27T06:58:08Z", "type": "feedback"}, {"uid": "hs2swpdtr91gu", "anon": "no", "when": "2015-04-07T02:08:30Z", "data": "i86o42lzc72e5", "type": "i_answer_update"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "i6rvi22aN6Q", "subject": "关于在实验楼做lab1的两个问题", "created": "2015-03-26T02:44:03Z", "content": "<p>在实验楼/lab1下make&#xff0c;提示没有找到strace&#xff08;Makefile中使用了strace命令&#xff09;。 用sudo apt-get install strace可以安装strace程序&#xff08;sudo password&#xff1a;shiyanlou&#xff0c;参见<a href=\"http://www.shiyanlou.com/faq#cannotsee\" target=\"_blank\">实验楼使用帮助</a>&#xff09;。</p>\n<p></p>\n<p>但是&#xff0c;实验楼每隔一小时询问是否延长实验时间。如果没有申请延长&#xff0c;则自己安装的软件&#xff08;或文件&#xff09;在下次使用这个在线环境时没有了&#xff0c;需要重新安装&#xff08;或建立&#xff09;。</p>\n<p></p>\n<p>现在&#xff0c;这个在线环境已经有git,diff,qemu,eclipse等工具&#xff0c;很方便了&#xff08;本地虚拟机严重影响电脑速度&#xff09;。如果能使用一直在线的strace等工具&#xff0c;就更好了。所以&#xff0c;</p>\n<p></p>\n<p><strong>Q1&#xff1a;请课程组在实验楼上安装strace程序。</strong></p>\n<p></p>\n<p></p>\n<p>装上strace后make&#xff0c;出现make错误。</p>\n<p>查看Makefile&#xff0c;本意应该是希望一次make产生三个文件&#xff08;lab1-ex0.exe、 lab1-ex1.exe和lab1-ex3.s&#xff09;&#xff0c;可实际情况是make报错后只得到lab1-ex0.exe。</p>\n<p></p>\n<p>原以为是Makefile中的规则有错&#xff0c;可通过实际操作发现&#xff0c;如果在Makefile中&#xff0c;把“strace -f ./lab1-ex0.exe”等strace命令改成“strace -f ls”&#xff0c;就能由make得到那三个文件。</p>\n<p></p>\n<p>于是&#xff0c;引出第二个问题&#xff1a;</p>\n<p></p>\n<p><strong>Q2&#xff1a;在本地虚拟机环境下&#xff0c;在/lab1下make&#xff0c;也是只得到lab1-ex0.exe后就make报错吗&#xff1f;&#xff08;本人虚拟机环境实在太慢&#xff0c;不想测试了。&#xff09;</strong></p>\n<p><strong>在make时shell调用Makefile中指定的strace程序&#xff0c;为什么当执行“strace -f ls”命令后&#xff0c;可以接着执行&#xff08;Makefile中的&#xff09;后续命令&#xff0c;而执行“strace -f ./lab1-ex0.exe”命令后却不可以&#xff08;返回到shell&#xff09;&#xff1f;难道这个情况与在线环境有关&#xff1f;</strong></p>"}], "type": "question", "tags": ["lab1", "student"], "tag_good": [], "unique_views": 227, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2015-03-26T03:45:15Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "Alanpsc", "endorser": {}, "admin": false, "photo": null, "id": "i6rvi22aN6Q", "photo_url": null, "us": false, "facebook_id": null}], "bucket_name": "Today", "id": "i7pma9wnammxv", "history": [{"anon": "no", "uid": "hs2swpdtr91gu", "subject": "", "created": "2015-04-07T02:08:30Z", "content": "<p>这并不是一个错误&#xff0c;strace是查看系统调用信息的&#xff0c;最后程序退出了&#xff0c;实际上是程序调用了exit_group(12)这个系统调用&#xff0c;以之前返回的12作为参数。但是make并不理解这种情况&#xff0c;所以会报error 12。如果按照语言的规范&#xff0c;如c语言中的return 0退出的话&#xff0c;则不会报错&#xff0c;可以在lab1-ex1.c中试一试原版本和return 0版本的strace结果的不同。</p>\n<p>如果在命令行中单独执行“strace -f ./lab1-ex0.exe并不会报错。你可以make继续之前的目标或者单独make你想要生成的目标&#xff0c;如make lab1-ex1.exe </p>"}, {"anon": "no", "uid": "hs2swpdtr91gu", "subject": "", "created": "2015-03-26T03:50:40Z", "content": "<p>这并不是一个错误&#xff0c;strace是查看系统调用信息的&#xff0c;最后程序退出了&#xff0c;实际上是程序调用了exit_group(12)这个系统调用&#xff0c;以之前返回的12作为参数。但是make并不理解这种情况&#xff0c;所以会报error 12。如果按照语言的规范&#xff0c;如c语言中的return 0退出的话&#xff0c;则不会报错&#xff0c;可以再lab1-ex1.c中试一试原版本和return 0版本的strace结果的不同。</p>\n<p>如果在命令行中单独执行“strace -f ./lab1-ex0.exe并不会报错。你可以make继续之前的目标或者单独make你想要生成的目标&#xff0c;如make lab1-ex1.exe </p>"}, {"anon": "no", "uid": "hs2swpdtr91gu", "subject": "", "created": "2015-03-26T03:45:15Z", "content": "<p>这并不是一个错误&#xff0c;strace是查看系统调用信息的&#xff0c;最后程序退出了。但是make并不理解这种情况&#xff0c;所以会报error 12&#xff0c;实际上是程序调用了exit_group(12)这个系统调用。如果在命令行中单独执行“strace -f ./lab1-ex0.exe并不会报错。你可以make继续之前的目标或者单独make你想要生成的目标&#xff0c;如make lab1-ex1.exe </p>"}], "type": "i_answer", "tag_endorse_arr": ["i6rvi22aN6Q"], "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>在与实验楼沟通&#xff0c;看如何安装新软件。</p>", "created": "2015-03-26T06:17:17Z", "bucket_order": 262, "bucket_name": "Week 3/22 - 3/28", "type": "followup", "tag_good": [], "uid": "hcrrjuyequh4bt", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "i7prpsvte1n25j", "updated": "2015-03-26T06:17:17Z", "config": {}}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<p>已经解决。现在在实验楼的ucore实验环境中&#xff0c;增加了目前最新的ucore_lab, ucore_doc, os_exercises,</p>\n<p>以及软件包 strace, llvm-3.5 clang-3.5 htop, bochs, nasm intel2gas unrar....</p>\n<p>以便于大家学习。</p>\n<p></p>\n<p>下一步计划&#xff1a;在清华的教育网搭建一个实验楼节点&#xff0c;这样大家可以方便大家在教育网内快捷地使用实验楼。</p>", "created": "2015-03-27T05:42:30Z", "bucket_order": 262, "bucket_name": "Week 3/22 - 3/28", "type": "followup", "tag_good": [], "uid": "hcrrjuyequh4bt", "children": [{"anon": "no", "folders": [], "data": {"embed_links": null}, "subject": "<p>辛苦了&#xff0c;谢谢&#xff01;</p>", "created": "2015-03-27T06:58:08Z", "bucket_order": 262, "bucket_name": "Week 3/22 - 3/28", "type": "feedback", "tag_good": [], "uid": "i6rvi22aN6Q", "children": [], "tag_good_arr": [], "id": "i7r8m6dryb84ud", "updated": "2015-03-27T06:58:08Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "i7r5wwjdxjr2e4", "updated": "2015-03-27T05:42:30Z", "config": {}}], "tag_good_arr": [], "no_answer": 0, "id": "i7pk3kfi83f5u1", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 5, "num_favorites": 0, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643167433946, "default_anonymity": "no"}, "error": null, "aid": "kyuzgqfu8er6pl"}