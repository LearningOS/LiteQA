{"result": {"folders": ["lab2"], "nr": 189, "data": {"embed_links": []}, "created": "2015-03-27T12:16:19Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"uid": "i6roqnlkmtw", "anon": "no", "when": "2015-03-27T12:16:19Z", "data": "i7rjzcyb6lh156", "type": "create"}, {"to": "i7rjzcy87um155", "uid": "hcrrjuyequh4bt", "anon": "no", "when": "2015-03-27T13:40:39Z", "data": "i7rmztb4h7y73v", "type": "i_answer"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "i6roqnlkmtw", "subject": "实验指导书有一点不明白", "created": "2015-03-27T12:16:19Z", "content": "<p>实验指导书124页&#xff0c;讲虚拟地址、线性地址和物理地址的几次切换的那一段</p>\n<p>在第三个阶段里说&#xff1a;</p>\n<p></p>\n<pre><code>virt addr - 0xC0000000 = linear addr  = phy addr &#43; 0xC0000000</code></pre>\n<p>可是这样的话岂不是virt addr - phy addr都超过32位数所能表示的了吗&#xff1f;</p>\n<p>是我理解的不对吗&#xff1f;</p>\n<p></p>\n<p>个人认为第三阶段应该是&#xff1a;</p>\n<p>virt addr  =  linear  addr  =  phy  addr  &#43;  0xC0000000      #4MB之外的已经进入了虚拟=线性的状态<br />virt addr  -  0xC0000000 =  linear  addr  =   phy   addr      # 0~4MB建立一个临时的映射</p>\n<p></p>\n<p>然后第四阶段去掉0-4MB的映射&#xff0c;全面进入虚拟=线性=物理&#43;0xC00000</p>\n<p></p>\n<p>求老师或者助教解答</p>"}], "type": "question", "tags": ["lab2", "student"], "tag_good": [], "unique_views": 194, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2015-03-27T13:40:39Z", "bucket_order": 3, "tag_endorse": [{"role": "student", "name": "Hongkun Ge", "endorser": {}, "admin": false, "photo": null, "id": "i5ehqgv6vgu535", "photo_url": null, "published": true, "us": false, "facebook_id": null}], "bucket_name": "Today", "id": "i7rmztb0rm073u", "history": [{"anon": "no", "uid": "hcrrjuyequh4bt", "subject": "", "created": "2015-03-27T13:40:39Z", "content": "<p><a href=\"https://github.com/objectkuan/ucore_docs/blob/master/lab2/lab2_3_3_5_4_maping_relations.md\">https://github.com/objectkuan/ucore_docs/blob/master/lab2/lab2_3_3_5_4_maping_relations.md</a></p>\n<p>是目前最新的文档。我估计你看的应该是最新文档。</p>\n<p>其实在第三阶段&#xff0c;由于代码段和数据段的物理地址范围限制在0~4MB&#xff0c;在没启动页机制前 &#xff0c;基于段机制的映射关系&#xff08;见kern/init/entry.S&#xff09;</p>\n<pre>__gdt:\n    SEG_NULL\n    SEG_ASM(STA_X | STA_R, - KERNBASE, 0xFFFFFFFF)      # code segment\n    SEG_ASM(STA_W, - KERNBASE, 0xFFFFFFFF)              # data segment\n__gdtdesc:\n    .word 0x17                                          # sizeof(__gdt) - 1\n    .long REALLOC(__gdt)\n</pre>\n<p>可知 </p>\n<pre>virt addr - 0xC0000000 = linear addr</pre>\n<p>而页机制使能后&#xff08;如果不算临时页表&#xff09;的映射关系是 linear  addr  =  phy  addr  &#43;  0xC0000000 </p>\n<p>所以 这时的映射关系就是</p>\n<pre>virt addr - 0xC0000000 = linear addr  = phy addr &#43; 0xC0000000</pre>"}], "type": "i_answer", "tag_endorse_arr": ["i5ehqgv6vgu535"], "config": {}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "i7rjzcy87um155", "config": {}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 5, "num_favorites": 1, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643167442698, "default_anonymity": "no"}, "error": null, "aid": "kyuzgx6y2s27m8"}