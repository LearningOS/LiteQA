{"result": {"folders": ["lecture2", "lecture3", "2020"], "nr": 1406, "data": {"embed_links": []}, "created": "2020-02-29T09:44:40Z", "bucket_order": 3, "no_answer_followup": 0, "change_log": [{"anon": "no", "uid": "j8z934beR2C", "data": "k77f5o6gij43r", "type": "create", "when": "2020-02-29T09:44:40Z"}, {"anon": "no", "uid": "j8z934beR2C", "data": "k77f8bcyubewd", "type": "update", "when": "2020-02-29T09:46:43Z"}, {"anon": "full", "data": "k77g02lx4eg5y8", "to": "k77f5o6duyq3q", "type": "s_answer", "when": "2020-02-29T10:08:18Z", "uid_a": "a_0"}, {"anon": "no", "uid": "j8z934beR2C", "data": "k77h44n9xz5rg", "type": "update", "when": "2020-02-29T10:39:27Z"}, {"anon": "no", "uid": "isxzwbs7gb766c", "to": "k77f5o6duyq3q", "type": "followup", "when": "2020-02-29T10:49:07Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "k78pt4r8hot282", "to": "k77f5o6duyq3q", "type": "i_answer", "when": "2020-03-01T07:30:37Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "k78pth5v8me2ef", "type": "i_answer_update", "when": "2020-03-01T07:30:53Z"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "data": "k78ptt9ip5f2jd", "type": "update", "when": "2020-03-01T07:31:09Z"}], "bucket_name": "Today", "history": [{"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "关于RISC-V中SBI的作用&#xff0c;我的理解是否正确&#xff1f;", "created": "2020-03-01T07:31:09Z", "content": "<md>M模式有很多指令没有规定死&#xff0c;不同CPU可能会不一样&#xff0c;如果操作系统直接使用了这些指令&#xff0c;就只能在这一种CPU上运行&#xff0c;不可移植。所以要有SBI&#xff0c;为这些容易变化的指令提供统一的接口&#xff0c;为不同的CPU设计不同的SBI实现&#xff0c;但接口都一样&#xff0c;而操作系统只使用SBI提供的接口&#xff0c;就可以在不同的CPU之间移植&#xff0c;而且打包操作系统时也不需要把SBI打包进去&#xff0c;SBI更像是CPU自带的一部分。然后&#xff0c;例如OpenSBI&#xff0c;在其上编写了rCore&#xff0c;那么凡是实现了OpenSBI的CPU都可以运行rCore。\n我的理解是否正确&#xff1f;</md>"}, {"anon": "no", "uid": "j8z934beR2C", "subject": "关于RISC-V中SBI的作用&#xff0c;我的理解是否正确&#xff1f;", "created": "2020-02-29T10:39:27Z", "content": "<p>M模式有很多指令没有规定死&#xff0c;不同CPU可能会不一样&#xff0c;如果操作系统直接使用了这些指令&#xff0c;就只能在这一种CPU上运行&#xff0c;不可移植。所以要有SBI&#xff0c;为这些容易变化的指令提供统一的接口&#xff0c;为不同的CPU设计不同的SBI实现&#xff0c;但接口都一样&#xff0c;而操作系统只使用SBI提供的接口&#xff0c;就可以在不同的CPU之间移植&#xff0c;而且打包操作系统时也不需要把SBI打包进去&#xff0c;SBI更像是CPU自带的一部分。然后&#xff0c;例如OpenSBI&#xff0c;在其上编写了rCore&#xff0c;那么凡是实现了OpenSBI的CPU都可以运行rCore。</p>\n<p>我的理解是否正确&#xff1f;</p>"}, {"anon": "no", "uid": "j8z934beR2C", "subject": "关于RISC-V中SBI的作用&#xff0c;我的理解是否正确&#xff1f;", "created": "2020-02-29T09:46:43Z", "content": "<p>M模式有很多指令没有规定死&#xff0c;不同CPU可能会不一样&#xff0c;如果操作系统直接使用了这些指令&#xff0c;就只能在这一种CPU上运行&#xff0c;不可移植。所以要有SBI&#xff0c;为这些容易变化的指令提供统一的接口&#xff0c;为不同的CPU设计不同的SBI实现&#xff0c;但接口都一样&#xff0c;而操作系统只使用SBI提供的接口&#xff0c;就可以在不同的CPU之间移植&#xff0c;而且打包操作系统时也不需要把SBI打包进去&#xff0c;SBI更像是CPU自带的一部分。</p>\n<p>我的理解是否正确&#xff1f;</p>"}, {"anon": "no", "uid": "j8z934beR2C", "subject": "关于RISC-V中SBI的作用&#xff0c;我的理解是否正确&#xff1f;", "created": "2020-02-29T09:44:40Z", "content": "<p>M模式有很多指令没有规定死&#xff0c;不同CPU可能会不一样&#xff0c;如果操作系统直接使用了这些指令&#xff0c;就只能在这一种CPU上运行&#xff0c;不可移植。所以要有SBI&#xff0c;为这些容易变化的指令提供统一的接口&#xff0c;为不同的CPU设计不同的SBI实现&#xff0c;但接口都一样&#xff0c;而操作系统只使用SBI提供的接口&#xff0c;就可以在不同的CPU之间移植&#xff0c;而且打包操作系统时也不需要把SBI打包进去&#xff0c;SBI更像是CPU自带的一部分。</p>\n<p>我的理解是否正确&#xff1f;</p>"}], "type": "question", "tags": ["lecture2", "student"], "tag_good": [], "unique_views": 120, "children": [{"folders": [], "data": {"embed_links": []}, "children": [], "created": "2020-02-29T10:08:18Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "k77g02ltz3t5y7", "history": [{"anon": "full", "uid_a": "a_0", "subject": "", "created": "2020-02-29T10:08:18Z", "content": "<p>我感觉你说的基本正确&#xff0c;但是灵活性可以更强。OS只要在一个提供了统一SBI的环境下就能跑&#xff0c;一方面屏蔽了不同板子某些实现的不同&#xff0c;另一方面也方便了虚拟化。提供SBI接口的可以是OpenSBI这样的一个软件库&#xff0c;也可以是一个Hypervisor&#xff08;参考课上的那张图&#xff09;。<br />此外&#xff0c;我对riscv硬件有那些变化了解不多&#xff0c;我感觉riscv CPU区别应该不是很大&#xff0c;只是有不同的指令拓展。从rcore实际代码来看&#xff0c;SBI更多的是提供了屏幕等外设的接口&#xff0c;总之说它和CPU绑定不太准确。<br />一家之言&#xff0c;如有错误&#xff0c;欢迎交流指正。</p>"}], "type": "s_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}, {"anon": "no", "folders": [], "data": {"embed_links": null}, "no_upvotes": 0, "subject": "<md>SBI 封装的不是【CPU指令】而是【硬件平台的外部设备】。\n\nRISC-V 作为一种指令集标准&#xff08;ISA&#xff09;&#xff0c;所有遵守此标准的 CPU 支持的指令是一样的。任何编译到 RISC-V 的程序都可以在 RISC-V CPU 上运行。\n\n可能发生变化的是不同硬件平台的外部设备。例如每个 PC 机可能配备不同厂家、不同型号的显卡。不同的外部设备提供给软件的接口不同&#xff0c;软件要控制这些外设所需的驱动程序也不一样。例如真实硬件上的串口需要复杂的初始化过程&#xff0c;但 QEMU 模拟出的串口就可以直接读写数据。\n\nOpenSBI 包含了各种外设的驱动程序&#xff0c;并暴露出相同的 SBI 接口&#xff0c;使得基于此编写的 OS 可以在各种硬件上运行。\n它有点类似于 BIOS/UEFI 在 PC 平台的角色。\n</md>", "created": "2020-02-29T10:49:07Z", "bucket_order": 4, "bucket_name": "Yesterday", "type": "followup", "tag_good": [], "uid": "isxzwbs7gb766c", "children": [], "tag_good_arr": [], "no_answer": 0, "id": "k77hgjt5u665r8", "d-bucket": "Yesterday", "updated": "2020-02-29T10:49:07Z", "config": {}}, {"folders": [], "data": {"embed_links": []}, "children": [], "created": "2020-03-01T07:30:37Z", "bucket_order": 3, "tag_endorse": [], "bucket_name": "Today", "id": "k78pt4r65ge281", "history": [{"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "", "created": "2020-03-01T07:30:53Z", "content": "<md>SBI可以理解为传统计算机中的BIOS的接口。CPU规范约定指令集&#xff0c;SBI与系统调用类似&#xff0c;约定的是软件层次间的接口。传统的计算机系统中&#xff0c;只明确约定了CPU指令集和系统调用接口&#xff0c;没有在对内核中继续规范各层间的约定&#xff0c;于是&#xff0c;Linux和Windows都有自己的bootloader。RV尝试在这里引用SBI&#xff0c;就是为了约定内核加载和内核监控的接口。\n\n\n有了SBI&#xff0c;操作系统内核&#xff08;kernel&#xff09;就可以有规范的bootloader功能了&#xff0c;并且在内核运行时&#xff0c;SBI下的功能可以为内核提供更稳定的监控能力。如内核死掉后的处理。UEFI也提供类似的功能&#xff0c;它们的关系如何&#xff0c;目前我还说不上来。有兴趣的同学&#xff0c;可以继续这个讨论。\n\n\n这个提问想得很深入。很好。希望有兴趣的同学继续讨论下去。\n\n\n如&#xff1a;SBI与UEFI的区别和联系如何&#xff1f;\n\n先就说这些。</md>"}, {"anon": "no", "uid": "hdjonbiyfs62ie", "subject": "", "created": "2020-03-01T07:30:37Z", "content": "<md>SBI可以理解为传统计算机中的BIOS的接口。CPU规范约定指令集&#xff0c;SBI与系统调用类似&#xff0c;约定的是软件层次间的接口。传统的计算机系统中&#xff0c;只明确约定了CPU指令集和系统调用接口&#xff0c;没有在对内核中继续规范各层间的约定&#xff0c;于是&#xff0c;Linux和Windows都有自己的bootloader。RV尝试在这里引用SBI&#xff0c;就是为了约定内核加载和内核监控的接口。\n\n有了SBI&#xff0c;操作系统内核&#xff08;kernel&#xff09;就可以有规范的bootloader功能了&#xff0c;并且在内核运行时&#xff0c;SBI下的功能可以为内核提供更稳定的监控能力。如内核死掉后的处理。UEFI也提供类似的功能&#xff0c;它们的关系如何&#xff0c;目前我还说不上来。有兴趣的同学&#xff0c;可以继续这个讨论。\n\n这个提问想得很深入。很好。希望有兴趣的同学继续讨论下去。\n\n如&#xff1a;SBI与UEFI的区别和联系如何&#xff1f;\n\n先就说这些。</md>"}], "type": "i_answer", "tag_endorse_arr": [], "config": {}, "is_tag_endorse": false}], "tag_good_arr": [], "no_answer": 0, "id": "k77f5o6duyq3q", "config": {"seen": {"840": 1, "1202": 5, "930": 6, "777": 4, "869": 0, "1308": 3, "97": 8, "383": 7, "1093": 2}}, "status": "active", "drafts": null, "request_instructor": 0, "request_instructor_me": false, "bookmarked": 4, "num_favorites": 1, "my_favorite": false, "is_bookmarked": false, "is_tag_good": false, "q_edits": [], "i_edits": [], "s_edits": [], "t": 1643169965817, "default_anonymity": "no"}, "error": null, "aid": "kyv0z01l8hb3y3"}